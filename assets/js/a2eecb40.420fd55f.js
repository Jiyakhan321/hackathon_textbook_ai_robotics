"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[3231],{8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(6540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}},8693:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>_,frontMatter:()=>r,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"module-1-robotic-nervous-system/practical-exercises/exercise-1-simple-publisher","title":"Exercise 1: Simple Publisher Node for Humanoid Robot","description":"Overview","source":"@site/docs/module-1-robotic-nervous-system/practical-exercises/exercise-1-simple-publisher.md","sourceDirName":"module-1-robotic-nervous-system/practical-exercises","slug":"/module-1-robotic-nervous-system/practical-exercises/exercise-1-simple-publisher","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/practical-exercises/exercise-1-simple-publisher","draft":false,"unlisted":false,"editUrl":"https://github.com/Jiyakhan321/hackathon_textbook_ai_robotics/tree/main/docs/module-1-robotic-nervous-system/practical-exercises/exercise-1-simple-publisher.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Visualizing and Validating URDF Models","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/urdf-modeling/visualizing-urdf"},"next":{"title":"Exercise 2: Robot Control Service for Humanoid Robot","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/practical-exercises/exercise-2-robot-control-service"}}');var s=i(4848),o=i(8453);const r={sidebar_position:1},l="Exercise 1: Simple Publisher Node for Humanoid Robot",a={},p=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Setting Up the Package",id:"step-1-setting-up-the-package",level:2},{value:"Step 2: Creating the Publisher Node",id:"step-2-creating-the-publisher-node",level:2},{value:"Step 3: Creating the Executable Script",id:"step-3-creating-the-executable-script",level:2},{value:"Step 4: Updating setup.py",id:"step-4-updating-setuppy",level:2},{value:"Step 5: Building and Running the Package",id:"step-5-building-and-running-the-package",level:2},{value:"Step 6: Running the Publisher",id:"step-6-running-the-publisher",level:2},{value:"Step 7: Verifying the Publisher",id:"step-7-verifying-the-publisher",level:2},{value:"Step 8: Visualizing with RViz",id:"step-8-visualizing-with-rviz",level:2},{value:"Step 9: Enhanced Publisher with Error Handling",id:"step-9-enhanced-publisher-with-error-handling",level:2},{value:"Step 10: Running the Enhanced Publisher",id:"step-10-running-the-enhanced-publisher",level:2},{value:"Step 11: Testing and Verification",id:"step-11-testing-and-verification",level:2},{value:"Troubleshooting Tips",id:"troubleshooting-tips",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"exercise-1-simple-publisher-node-for-humanoid-robot",children:"Exercise 1: Simple Publisher Node for Humanoid Robot"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"In this exercise, you'll create a simple ROS 2 publisher node that publishes joint state information for a humanoid robot. This will help you understand the basics of creating ROS 2 nodes and publishing messages to topics."}),"\n",(0,s.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(n.p,{children:"By completing this exercise, you will:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create a basic ROS 2 publisher node"}),"\n",(0,s.jsx)(n.li,{children:"Understand how to publish sensor_msgs/JointState messages"}),"\n",(0,s.jsx)(n.li,{children:"Learn to work with time stamps and message headers"}),"\n",(0,s.jsx)(n.li,{children:"Practice using timers for periodic publishing"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"Before starting this exercise, ensure you have:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ROS 2 Humble Hawksbill installed"}),"\n",(0,s.jsx)(n.li,{children:"Basic Python programming knowledge"}),"\n",(0,s.jsx)(n.li,{children:"Understanding of ROS 2 concepts (nodes, topics, messages)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-1-setting-up-the-package",children:"Step 1: Setting Up the Package"}),"\n",(0,s.jsx)(n.p,{children:"First, create a new ROS 2 package for your exercises:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Create a new workspace if you don't have one\nmkdir -p ~/humanoid_ws/src\ncd ~/humanoid_ws/src\n\n# Create the package\nros2 pkg create --build-type ament_python humanoid_publisher_examples\ncd humanoid_publisher_examples\n"})}),"\n",(0,s.jsx)(n.p,{children:"Your package structure should look like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"humanoid_publisher_examples/\n\u251c\u2500\u2500 package.xml\n\u251c\u2500\u2500 setup.py\n\u251c\u2500\u2500 setup.cfg\n\u2514\u2500\u2500 humanoid_publisher_examples/\n    \u2514\u2500\u2500 __init__.py\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-2-creating-the-publisher-node",children:"Step 2: Creating the Publisher Node"}),"\n",(0,s.jsx)(n.p,{children:"Create a new Python file in the package directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# humanoid_publisher_examples/simple_joint_publisher.py\n\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nfrom std_msgs.msg import Header\nimport math\n\nclass SimpleJointPublisher(Node):\n    def __init__(self):\n        super().__init__('simple_joint_publisher')\n\n        # Create publisher for joint states\n        self.publisher = self.create_publisher(JointState, 'joint_states', 10)\n\n        # Create a timer to publish at regular intervals (50 Hz)\n        timer_period = 0.02  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n\n        # Initialize joint names for a simple humanoid (torso, 2 arms, 2 legs)\n        self.joint_names = [\n            'left_hip_joint', 'left_knee_joint', 'left_ankle_joint',\n            'right_hip_joint', 'right_knee_joint', 'right_ankle_joint',\n            'left_shoulder_joint', 'left_elbow_joint',\n            'right_shoulder_joint', 'right_elbow_joint'\n        ]\n\n        # Initialize joint positions with zeros\n        self.joint_positions = [0.0] * len(self.joint_names)\n        self.joint_velocities = [0.0] * len(self.joint_names)\n        self.joint_efforts = [0.0] * len(self.joint_names)\n\n        # Initialize a time counter for oscillating movements\n        self.time_counter = 0.0\n\n        self.get_logger().info('Simple Joint Publisher node initialized')\n\n    def timer_callback(self):\n        \"\"\"Callback function that publishes joint state messages\"\"\"\n        # Create a new JointState message\n        msg = JointState()\n\n        # Set the header with timestamp and frame ID\n        msg.header = Header()\n        msg.header.stamp = self.get_clock().now().to_msg()\n        msg.header.frame_id = 'base_link'\n\n        # Set the joint names\n        msg.name = self.joint_names\n\n        # Update joint positions with simple oscillating patterns\n        self.update_joint_positions()\n\n        # Set the positions, velocities, and efforts\n        msg.position = self.joint_positions\n        msg.velocity = self.joint_velocities\n        msg.effort = self.joint_efforts\n\n        # Publish the message\n        self.publisher.publish(msg)\n\n        # Log a message every 100 publications\n        if int(self.time_counter * 50) % 100 == 0:\n            self.get_logger().info(f'Published joint states: {len(msg.name)} joints')\n\n    def update_joint_positions(self):\n        \"\"\"Update joint positions with simple oscillating patterns\"\"\"\n        # Increment time counter (using timer period)\n        self.time_counter += 0.02\n\n        # Create different oscillating patterns for different joints\n        for i, joint_name in enumerate(self.joint_names):\n            if 'hip' in joint_name:\n                # Hip joints: slow oscillation\n                self.joint_positions[i] = 0.3 * math.sin(0.5 * self.time_counter + i)\n            elif 'knee' in joint_name:\n                # Knee joints: follow hip with phase offset\n                self.joint_positions[i] = 0.2 * math.sin(0.5 * self.time_counter + i + 1)\n            elif 'ankle' in joint_name:\n                # Ankle joints: faster oscillation\n                self.joint_positions[i] = 0.15 * math.sin(0.8 * self.time_counter + i + 2)\n            elif 'shoulder' in joint_name:\n                # Shoulder joints: independent oscillation\n                self.joint_positions[i] = 0.4 * math.sin(0.4 * self.time_counter + i * 0.5)\n            elif 'elbow' in joint_name:\n                # Elbow joints: follow shoulder\n                self.joint_positions[i] = 0.25 * math.sin(0.4 * self.time_counter + i * 0.5 + 1)\n\ndef main(args=None):\n    \"\"\"Main function to initialize and run the node\"\"\"\n    rclpy.init(args=args)\n\n    # Create the publisher node\n    simple_publisher = SimpleJointPublisher()\n\n    try:\n        # Start spinning the node\n        rclpy.spin(simple_publisher)\n    except KeyboardInterrupt:\n        simple_publisher.get_logger().info('Interrupted by user')\n    finally:\n        # Clean up\n        simple_publisher.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-3-creating-the-executable-script",children:"Step 3: Creating the Executable Script"}),"\n",(0,s.jsx)(n.p,{children:"Create an executable script to run your node:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# humanoid_publisher_examples/simple_publisher_main.py\n\nfrom simple_joint_publisher import main\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-4-updating-setuppy",children:"Step 4: Updating setup.py"}),"\n",(0,s.jsxs)(n.p,{children:["Update your ",(0,s.jsx)(n.code,{children:"setup.py"})," file to include the entry point for your executable:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from setuptools import setup\n\npackage_name = 'humanoid_publisher_examples'\n\nsetup(\n    name=package_name,\n    version='0.0.0',\n    packages=[package_name],\n    data_files=[\n        ('share/ament_index/resource_index/packages',\n            ['resource/' + package_name]),\n        ('share/' + package_name, ['package.xml']),\n    ],\n    install_requires=['setuptools'],\n    zip_safe=True,\n    maintainer='your_name',\n    maintainer_email='your_email@example.com',\n    description='Simple publisher examples for humanoid robots',\n    license='Apache License 2.0',\n    tests_require=['pytest'],\n    entry_points={\n        'console_scripts': [\n            'simple_joint_publisher = humanoid_publisher_examples.simple_joint_publisher:main',\n        ],\n    },\n)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-5-building-and-running-the-package",children:"Step 5: Building and Running the Package"}),"\n",(0,s.jsx)(n.p,{children:"Build your package:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ~/humanoid_ws\ncolcon build --packages-select humanoid_publisher_examples\nsource install/setup.bash\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-6-running-the-publisher",children:"Step 6: Running the Publisher"}),"\n",(0,s.jsx)(n.p,{children:"Run your publisher node:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 run humanoid_publisher_examples simple_joint_publisher\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-7-verifying-the-publisher",children:"Step 7: Verifying the Publisher"}),"\n",(0,s.jsx)(n.p,{children:"In a new terminal, verify that your publisher is working:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Check if the topic exists\nros2 topic list | grep joint_states\n\n# Echo the published messages\nros2 topic echo /joint_states\n\n# Check the message type\nros2 topic type /joint_states\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-8-visualizing-with-rviz",children:"Step 8: Visualizing with RViz"}),"\n",(0,s.jsx)(n.p,{children:"To visualize the joint states in RViz:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Make sure you have a URDF file for your humanoid robot"}),"\n",(0,s.jsx)(n.li,{children:"Run the robot state publisher:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'ros2 run robot_state_publisher robot_state_publisher --ros-args -p robot_description:="path/to/your/robot.urdf"\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Run your joint publisher in another terminal"}),"\n",(0,s.jsx)(n.li,{children:"Launch RViz:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 run rviz2 rviz2\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"Add a RobotModel display and set the topic to your robot description"}),"\n",(0,s.jsx)(n.li,{children:"Add a TF display to visualize the transforms"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-9-enhanced-publisher-with-error-handling",children:"Step 9: Enhanced Publisher with Error Handling"}),"\n",(0,s.jsx)(n.p,{children:"Now let's create an enhanced version with better error handling and additional features:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# humanoid_publisher_examples/enhanced_joint_publisher.py\n\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nfrom std_msgs.msg import Header\nimport math\nimport numpy as np\n\nclass EnhancedJointPublisher(Node):\n    def __init__(self):\n        super().__init__('enhanced_joint_publisher')\n\n        # Create publisher for joint states\n        self.publisher = self.create_publisher(JointState, 'joint_states', 10)\n\n        # Create a timer to publish at regular intervals\n        timer_period = 0.02  # 50 Hz\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n\n        # Define joint configuration\n        self.joint_config = {\n            'left_leg': ['left_hip_joint', 'left_knee_joint', 'left_ankle_joint'],\n            'right_leg': ['right_hip_joint', 'right_knee_joint', 'right_ankle_joint'],\n            'left_arm': ['left_shoulder_joint', 'left_elbow_joint', 'left_wrist_joint'],\n            'right_arm': ['right_shoulder_joint', 'right_elbow_joint', 'right_wrist_joint']\n        }\n\n        # Flatten joint names list\n        self.joint_names = []\n        for joints in self.joint_config.values():\n            self.joint_names.extend(joints)\n\n        # Initialize joint states\n        self.joint_positions = [0.0] * len(self.joint_names)\n        self.joint_velocities = [0.0] * len(self.joint_names)\n        self.joint_efforts = [0.0] * len(self.joint_names)\n\n        # Movement pattern parameters\n        self.time_counter = 0.0\n        self.pattern_type = 'walking'  # 'walking', 'waving', 'idle'\n\n        self.get_logger().info(f'Enhanced Joint Publisher initialized with {len(self.joint_names)} joints')\n\n    def timer_callback(self):\n        \"\"\"Enhanced callback with multiple movement patterns\"\"\"\n        try:\n            # Create and populate the JointState message\n            msg = JointState()\n            msg.header = Header()\n            msg.header.stamp = self.get_clock().now().to_msg()\n            msg.header.frame_id = 'base_link'\n\n            # Update joint positions based on selected pattern\n            self.update_joint_positions()\n\n            # Update message data\n            msg.name = self.joint_names\n            msg.position = self.joint_positions.copy()\n            msg.velocity = self.joint_velocities\n            msg.effort = self.joint_efforts\n\n            # Publish the message\n            self.publisher.publish(msg)\n\n            # Log periodically\n            if int(self.time_counter * 50) % 250 == 0:\n                self.get_logger().info(f'Published joint states - Pattern: {self.pattern_type}')\n\n        except Exception as e:\n            self.get_logger().error(f'Error in timer_callback: {e}')\n\n    def update_joint_positions(self):\n        \"\"\"Update joint positions based on movement pattern\"\"\"\n        self.time_counter += 0.02\n\n        # Select movement pattern\n        if self.pattern_type == 'walking':\n            self._update_walking_pattern()\n        elif self.pattern_type == 'waving':\n            self._update_waving_pattern()\n        else:  # idle\n            self._update_idle_pattern()\n\n    def _update_walking_pattern(self):\n        \"\"\"Simulate a simple walking pattern\"\"\"\n        # Left leg (alternating with right)\n        left_phase = math.sin(2 * math.pi * 0.5 * self.time_counter)\n        right_phase = math.sin(2 * math.pi * 0.5 * self.time_counter + math.pi)  # Opposite phase\n\n        # Hip joints\n        self._set_joints_by_name(['left_hip_joint'], 0.3 * left_phase)\n        self._set_joints_by_name(['right_hip_joint'], 0.3 * right_phase)\n\n        # Knee joints (follow hip with different amplitude)\n        self._set_joints_by_name(['left_knee_joint'], 0.5 * left_phase)\n        self._set_joints_by_name(['right_knee_joint'], 0.5 * right_phase)\n\n        # Ankle joints (smaller movement)\n        self._set_joints_by_name(['left_ankle_joint'], 0.1 * left_phase)\n        self._set_joints_by_name(['right_ankle_joint'], 0.1 * right_phase)\n\n        # Arms swinging opposite to legs\n        self._set_joints_by_name(['left_shoulder_joint'], 0.2 * right_phase)\n        self._set_joints_by_name(['right_shoulder_joint'], 0.2 * left_phase)\n        self._set_joints_by_name(['left_elbow_joint'], 0.15 * right_phase)\n        self._set_joints_by_name(['right_elbow_joint'], 0.15 * left_phase)\n\n    def _update_waving_pattern(self):\n        \"\"\"Simulate waving motion with right arm\"\"\"\n        # Keep legs in neutral position\n        leg_joints = ['left_hip_joint', 'left_knee_joint', 'left_ankle_joint',\n                     'right_hip_joint', 'right_knee_joint', 'right_ankle_joint']\n        for joint in leg_joints:\n            self._set_joints_by_name([joint], 0.0)\n\n        # Waving motion with right arm\n        wave_phase = math.sin(2 * math.pi * 0.8 * self.time_counter)\n        self._set_joints_by_name(['right_shoulder_joint'], 0.5 + 0.3 * wave_phase)\n        self._set_joints_by_name(['right_elbow_joint'], 0.4 * wave_phase)\n\n        # Left arm in neutral position\n        self._set_joints_by_name(['left_shoulder_joint'], 0.2)\n        self._set_joints_by_name(['left_elbow_joint'], -0.5)\n\n    def _update_idle_pattern(self):\n        \"\"\"Keep all joints in neutral position with small oscillation\"\"\"\n        for i in range(len(self.joint_positions)):\n            # Small random oscillation to keep it interesting\n            self.joint_positions[i] = 0.05 * math.sin(0.3 * self.time_counter + i * 0.1)\n\n    def _set_joints_by_name(self, joint_names, value):\n        \"\"\"Helper method to set specific joint positions\"\"\"\n        for joint_name in joint_names:\n            if joint_name in self.joint_names:\n                index = self.joint_names.index(joint_name)\n                self.joint_positions[index] = value\n\ndef main(args=None):\n    \"\"\"Main function to initialize and run the enhanced node\"\"\"\n    rclpy.init(args=args)\n\n    try:\n        enhanced_publisher = EnhancedJointPublisher()\n        enhanced_publisher.get_logger().info('Starting enhanced joint publisher...')\n\n        rclpy.spin(enhanced_publisher)\n\n    except KeyboardInterrupt:\n        print('\\nShutting down enhanced joint publisher...')\n    finally:\n        enhanced_publisher.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-10-running-the-enhanced-publisher",children:"Step 10: Running the Enhanced Publisher"}),"\n",(0,s.jsxs)(n.p,{children:["Update your ",(0,s.jsx)(n.code,{children:"setup.py"})," to include the new executable:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Add to entry_points in setup.py\nentry_points={\n    'console_scripts': [\n        'simple_joint_publisher = humanoid_publisher_examples.simple_joint_publisher:main',\n        'enhanced_joint_publisher = humanoid_publisher_examples.enhanced_joint_publisher:main',\n    ],\n},\n"})}),"\n",(0,s.jsx)(n.p,{children:"Rebuild and run the enhanced publisher:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ~/humanoid_ws\ncolcon build --packages-select humanoid_publisher_examples\nsource install/setup.bash\n\n# Run the enhanced publisher\nros2 run humanoid_publisher_examples enhanced_joint_publisher\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-11-testing-and-verification",children:"Step 11: Testing and Verification"}),"\n",(0,s.jsx)(n.p,{children:"Create a simple test script to verify your publisher:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# humanoid_publisher_examples/test_publisher.py\n\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\n\nclass JointStateSubscriber(Node):\n    def __init__(self):\n        super().__init__('joint_state_subscriber')\n\n        # Create subscription to joint states\n        self.subscription = self.create_subscription(\n            JointState,\n            'joint_states',\n            self.joint_state_callback,\n            10\n        )\n\n        self.received_first_message = False\n        self.get_logger().info('Joint state subscriber initialized')\n\n    def joint_state_callback(self, msg):\n        \"\"\"Callback to verify joint state messages\"\"\"\n        if not self.received_first_message:\n            self.get_logger().info(f'Received first joint state message with {len(msg.name)} joints')\n            self.get_logger().info(f'Joint names: {msg.name}')\n            self.received_first_message = True\n\n        # Log periodically\n        if len(msg.name) > 0:\n            avg_position = sum(msg.position) / len(msg.position) if msg.position else 0\n            self.get_logger().debug(f'Average joint position: {avg_position:.3f}')\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    subscriber = JointStateSubscriber()\n\n    try:\n        rclpy.spin(subscriber)\n    except KeyboardInterrupt:\n        subscriber.get_logger().info('Subscriber interrupted')\n    finally:\n        subscriber.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting-tips",children:"Troubleshooting Tips"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Topic not found"}),": Make sure your publisher node is running"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No messages received"}),": Check that the topic names match exactly"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Permission errors"}),": Ensure your Python files have execute permissions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import errors"}),": Make sure your package is properly built and sourced"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.p,{children:"After completing this exercise, you should have a solid understanding of:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Creating ROS 2 publisher nodes"}),"\n",(0,s.jsx)(n.li,{children:"Working with JointState messages"}),"\n",(0,s.jsx)(n.li,{children:"Using timers for periodic publishing"}),"\n",(0,s.jsx)(n.li,{children:"Implementing different movement patterns"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In the next exercise, we'll explore creating a subscriber node that can receive and process these joint state messages to control a simulated humanoid robot."})]})}function _(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);