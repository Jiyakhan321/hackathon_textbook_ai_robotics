"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[957],{3314:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>l,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"module-1-robotic-nervous-system/practical-exercises/exercise-3-urdf-robot","title":"Exercise 3: Creating a Complete Humanoid Robot URDF","description":"Overview","source":"@site/docs/module-1-robotic-nervous-system/practical-exercises/exercise-3-urdf-robot.md","sourceDirName":"module-1-robotic-nervous-system/practical-exercises","slug":"/module-1-robotic-nervous-system/practical-exercises/exercise-3-urdf-robot","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/practical-exercises/exercise-3-urdf-robot","draft":false,"unlisted":false,"editUrl":"https://github.com/Jiyakhan321/hackathon_textbook_ai_robotics/tree/main/docs/module-1-robotic-nervous-system/practical-exercises/exercise-3-urdf-robot.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Exercise 2: Robot Control Service for Humanoid Robot","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/practical-exercises/exercise-2-robot-control-service"},"next":{"title":"Module 1 Project","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/module-1-project"}}');var r=e(4848),o=e(8453);const l={sidebar_position:3},a="Exercise 3: Creating a Complete Humanoid Robot URDF",s={},p=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Planning the Humanoid Robot Structure",id:"step-1-planning-the-humanoid-robot-structure",level:2},{value:"Step 2: Creating the Base URDF File",id:"step-2-creating-the-base-urdf-file",level:2},{value:"Step 3: Creating a Validation Script",id:"step-3-creating-a-validation-script",level:2},{value:"Step 4: Creating a Visualization Launch File",id:"step-4-creating-a-visualization-launch-file",level:2},{value:"Step 5: Creating an RViz Configuration",id:"step-5-creating-an-rviz-configuration",level:2},{value:"Step 6: Testing Your URDF",id:"step-6-testing-your-urdf",level:2},{value:"Step 7: Integration with Previous Exercises",id:"step-7-integration-with-previous-exercises",level:2},{value:"Step 8: Adding the Demo Publisher to setup.py",id:"step-8-adding-the-demo-publisher-to-setuppy",level:2},{value:"Step 9: Running the Complete System",id:"step-9-running-the-complete-system",level:2},{value:"Troubleshooting Tips",id:"troubleshooting-tips",level:2},{value:"Next Steps",id:"next-steps",level:2}];function _(n){const i={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"exercise-3-creating-a-complete-humanoid-robot-urdf",children:"Exercise 3: Creating a Complete Humanoid Robot URDF"})}),"\n",(0,r.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(i.p,{children:"In this exercise, you'll create a complete URDF (Unified Robot Description Format) model for a humanoid robot. This exercise combines the concepts learned in previous modules to build a realistic robot model that can be used in simulation and visualization tools."}),"\n",(0,r.jsx)(i.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(i.p,{children:"By completing this exercise, you will:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Create a complete humanoid robot URDF with proper kinematic structure"}),"\n",(0,r.jsx)(i.li,{children:"Define realistic joint limits and physical properties"}),"\n",(0,r.jsx)(i.li,{children:"Add visual and collision geometries for each link"}),"\n",(0,r.jsx)(i.li,{children:"Include Gazebo-specific plugins and materials"}),"\n",(0,r.jsx)(i.li,{children:"Validate and test your URDF model"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(i.p,{children:"Before starting this exercise, ensure you have:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"ROS 2 Humble Hawksbill installed"}),"\n",(0,r.jsx)(i.li,{children:"Basic understanding of URDF syntax"}),"\n",(0,r.jsx)(i.li,{children:"Knowledge of 3D coordinate systems and transformations"}),"\n",(0,r.jsx)(i.li,{children:"Completion of previous exercises (publishers and services)"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"step-1-planning-the-humanoid-robot-structure",children:"Step 1: Planning the Humanoid Robot Structure"}),"\n",(0,r.jsx)(i.p,{children:"Before creating the URDF, let's plan our humanoid robot:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Degrees of Freedom"}),": 24 DOF (12 for legs, 8 for arms, 4 for torso/head)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Segmented structure"}),": Pelvis, torso, head, 2 arms, 2 legs"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Realistic proportions"}),": Based on adult human dimensions"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Actuated joints"}),": All major joints will be controllable"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"step-2-creating-the-base-urdf-file",children:"Step 2: Creating the Base URDF File"}),"\n",(0,r.jsx)(i.p,{children:"Create a comprehensive URDF file for your humanoid robot:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="advanced_humanoid" xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Include any xacro files if needed --\x3e\n  \x3c!-- <xacro:include filename="$(find my_robot_description)/urdf/materials.xacro" /> --\x3e\n\n  \x3c!-- Materials --\x3e\n  <material name="black">\n    <color rgba="0.0 0.0 0.0 1.0"/>\n  </material>\n  <material name="blue">\n    <color rgba="0.0 0.0 0.8 1.0"/>\n  </material>\n  <material name="green">\n    <color rgba="0.0 0.8 0.0 1.0"/>\n  </material>\n  <material name="grey">\n    <color rgba="0.4 0.4 0.4 1.0"/>\n  </material>\n  <material name="silver">\n    <color rgba="0.75 0.75 0.75 1.0"/>\n  </material>\n  <material name="orange">\n    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>\n  </material>\n  <material name="brown">\n    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>\n  </material>\n  <material name="red">\n    <color rgba="0.8 0.0 0.0 1.0"/>\n  </material>\n  <material name="white">\n    <color rgba="1.0 1.0 1.0 1.0"/>\n  </material>\n\n  \x3c!-- Constants for dimensions --\x3e\n  <xacro:property name="M_PI" value="3.1415926535897931" />\n  <xacro:property name="base_mass" value="10.0" /> \x3c!-- Pelvis mass in kg --\x3e\n  <xacro:property name="torso_mass" value="15.0" />\n  <xacro:property name="head_mass" value="4.0" />\n  <xacro:property name="upper_leg_mass" value="6.0" />\n  <xacro:property name="lower_leg_mass" value="4.0" />\n  <xacro:property name="foot_mass" value="2.0" />\n  <xacro:property name="upper_arm_mass" value="3.0" />\n  <xacro:property name="lower_arm_mass" value="2.0" />\n  <xacro:property name="hand_mass" value="1.0" />\n\n  \x3c!-- Base/Pelvis Link --\x3e\n  <link name="base_link">\n    <inertial>\n      <mass value="${base_mass}"/>\n      <origin xyz="0 0 0.05" rpy="0 0 0"/>\n      <inertia\n        ixx="0.2" ixy="0" ixz="0"\n        iyy="0.2" iyz="0"\n        izz="0.15"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.28 0.25 0.1"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.28 0.25 0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Torso (lower) --\x3e\n  <joint name="torso_lower_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="torso_lower"/>\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\n  </joint>\n\n  <link name="torso_lower">\n    <inertial>\n      <mass value="${torso_mass * 0.4}"/>  \x3c!-- 40% of torso mass --\x3e\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      <inertia\n        ixx="0.15" ixy="0" ixz="0"\n        iyy="0.15" iyz="0"\n        izz="0.08"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.22 0.3"/>\n      </geometry>\n      <material name="grey"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.22 0.3"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Torso (upper) --\x3e\n  <joint name="torso_upper_joint" type="revolute">\n    <parent link="torso_lower"/>\n    <child link="torso_upper"/>\n    <origin xyz="0 0 0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>  \x3c!-- Pitch (forward/back) --\x3e\n    <limit lower="${-M_PI/4}" upper="${M_PI/4}" effort="100" velocity="1.0"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  <link name="torso_upper">\n    <inertial>\n      <mass value="${torso_mass * 0.6}"/>  \x3c!-- 60% of torso mass --\x3e\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      <inertia\n        ixx="0.12" ixy="0" ixz="0"\n        iyy="0.12" iyz="0"\n        izz="0.06"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.22 0.3"/>\n      </geometry>\n      <material name="grey"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.22 0.3"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <joint name="neck_joint" type="revolute">\n    <parent link="torso_upper"/>\n    <child link="head_link"/>\n    <origin xyz="0 0 0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>  \x3c!-- Neck pitch --\x3e\n    <limit lower="${-M_PI/3}" upper="${M_PI/3}" effort="20" velocity="1.5"/>\n    <dynamics damping="0.1" friction="0.05"/>\n  </joint>\n\n  <link name="head_link">\n    <inertial>\n      <mass value="${head_mass}"/>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <inertia\n        ixx="0.02" ixy="0" ixz="0"\n        iyy="0.02" iyz="0"\n        izz="0.02"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n      <material name="skin_color"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Left Hip (3 DOF) --\x3e\n  <joint name="left_hip_yaw_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_hip_yaw_link"/>\n    <origin xyz="0 0.12 -0.05" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>  \x3c!-- Yaw (rotation) --\x3e\n    <limit lower="${-M_PI/6}" upper="${M_PI/6}" effort="200" velocity="1.0"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  <link name="left_hip_yaw_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_hip_roll_joint" type="revolute">\n    <parent link="left_hip_yaw_link"/>\n    <child link="left_hip_roll_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>  \x3c!-- Roll (abduction/adduction) --\x3e\n    <limit lower="${-M_PI/4}" upper="${M_PI/2}" effort="250" velocity="1.0"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  <link name="left_hip_roll_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_hip_pitch_joint" type="revolute">\n    <parent link="left_hip_roll_link"/>\n    <child link="left_thigh_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>  \x3c!-- Pitch (flexion/extension) --\x3e\n    <limit lower="${-M_PI/2}" upper="${M_PI/4}" effort="250" velocity="1.5"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  \x3c!-- Left Thigh --\x3e\n  <link name="left_thigh_link">\n    <inertial>\n      <mass value="${upper_leg_mass}"/>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <inertia\n        ixx="0.1" ixy="0" ixz="0"\n        iyy="0.1" iyz="0"\n        izz="0.02"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.08" length="0.35"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.08" length="0.35"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Left Knee --\x3e\n  <joint name="left_knee_joint" type="revolute">\n    <parent link="left_thigh_link"/>\n    <child link="left_shin_link"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>  \x3c!-- Pitch --\x3e\n    <limit lower="0.0" upper="${M_PI*0.9}" effort="250" velocity="1.5"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  <link name="left_shin_link">\n    <inertial>\n      <mass value="${lower_leg_mass}"/>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <inertia\n        ixx="0.08" ixy="0" ixz="0"\n        iyy="0.08" iyz="0"\n        izz="0.015"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.07" length="0.35"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.07" length="0.35"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Left Ankle --\x3e\n  <joint name="left_ankle_pitch_joint" type="revolute">\n    <parent link="left_shin_link"/>\n    <child link="left_ankle_roll_link"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>  \x3c!-- Pitch (dorsiflexion/plantarflexion) --\x3e\n    <limit lower="${-M_PI/3}" upper="${M_PI/3}" effort="100" velocity="1.0"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  <link name="left_ankle_roll_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_ankle_roll_joint" type="revolute">\n    <parent link="left_ankle_roll_link"/>\n    <child link="left_foot_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>  \x3c!-- Roll (inversion/eversion) --\x3e\n    <limit lower="${-M_PI/6}" upper="${M_PI/6}" effort="80" velocity="0.8"/>\n    <dynamics damping="0.3" friction="0.05"/>\n  </joint>\n\n  \x3c!-- Left Foot --\x3e\n  <link name="left_foot_link">\n    <inertial>\n      <mass value="${foot_mass}"/>\n      <origin xyz="0.08 0 -0.02" rpy="0 0 0"/>\n      <inertia\n        ixx="0.01" ixy="0" ixz="0"\n        iyy="0.02" iyz="0"\n        izz="0.02"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0.08 0 -0.02" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.12 0.08"/>\n      </geometry>\n      <material name="black"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0.08 0 -0.02" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.12 0.08"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Right Leg (mirror of left) --\x3e\n  <joint name="right_hip_yaw_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="right_hip_yaw_link"/>\n    <origin xyz="0 -0.12 -0.05" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="${-M_PI/6}" upper="${M_PI/6}" effort="200" velocity="1.0"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  <link name="right_hip_yaw_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="right_hip_roll_joint" type="revolute">\n    <parent link="right_hip_yaw_link"/>\n    <child link="right_hip_roll_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/4}" effort="250" velocity="1.0"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  <link name="right_hip_roll_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="right_hip_pitch_joint" type="revolute">\n    <parent link="right_hip_roll_link"/>\n    <child link="right_thigh_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/4}" effort="250" velocity="1.5"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  <link name="right_thigh_link">\n    <inertial>\n      <mass value="${upper_leg_mass}"/>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <inertia\n        ixx="0.1" ixy="0" ixz="0"\n        iyy="0.1" iyz="0"\n        izz="0.02"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.08" length="0.35"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.08" length="0.35"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_knee_joint" type="revolute">\n    <parent link="right_thigh_link"/>\n    <child link="right_shin_link"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0.0" upper="${M_PI*0.9}" effort="250" velocity="1.5"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  <link name="right_shin_link">\n    <inertial>\n      <mass value="${lower_leg_mass}"/>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <inertia\n        ixx="0.08" ixy="0" ixz="0"\n        iyy="0.08" iyz="0"\n        izz="0.015"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.07" length="0.35"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.07" length="0.35"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_ankle_pitch_joint" type="revolute">\n    <parent link="right_shin_link"/>\n    <child link="right_ankle_roll_link"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/3}" upper="${M_PI/3}" effort="100" velocity="1.0"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  <link name="right_ankle_roll_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="right_ankle_roll_joint" type="revolute">\n    <parent link="right_ankle_roll_link"/>\n    <child link="right_foot_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="${-M_PI/6}" upper="${M_PI/6}" effort="80" velocity="0.8"/>\n    <dynamics damping="0.3" friction="0.05"/>\n  </joint>\n\n  <link name="right_foot_link">\n    <inertial>\n      <mass value="${foot_mass}"/>\n      <origin xyz="0.08 0 -0.02" rpy="0 0 0"/>\n      <inertia\n        ixx="0.01" ixy="0" ixz="0"\n        iyy="0.02" iyz="0"\n        izz="0.02"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0.08 0 -0.02" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.12 0.08"/>\n      </geometry>\n      <material name="black"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0.08 0 -0.02" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.12 0.08"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Left Shoulder (3 DOF) --\x3e\n  <joint name="left_shoulder_pitch_joint" type="revolute">\n    <parent link="torso_upper"/>\n    <child link="left_shoulder_pitch_link"/>\n    <origin xyz="0.16 0.08 0.25" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>  \x3c!-- Pitch --\x3e\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="100" velocity="1.5"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  <link name="left_shoulder_pitch_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_shoulder_roll_joint" type="revolute">\n    <parent link="left_shoulder_pitch_link"/>\n    <child link="left_upper_arm_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>  \x3c!-- Roll --\x3e\n    <limit lower="0" upper="${M_PI*0.8}" effort="80" velocity="1.2"/>\n    <dynamics damping="0.3" friction="0.05"/>\n  </joint>\n\n  \x3c!-- Left Upper Arm --\x3e\n  <link name="left_upper_arm_link">\n    <inertial>\n      <mass value="${upper_arm_mass}"/>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <inertia\n        ixx="0.02" ixy="0" ixz="0"\n        iyy="0.02" iyz="0"\n        izz="0.005"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.06" length="0.25"/>\n      </geometry>\n      <material name="green"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.06" length="0.25"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Left Elbow --\x3e\n  <joint name="left_elbow_joint" type="revolute">\n    <parent link="left_upper_arm_link"/>\n    <child link="left_lower_arm_link"/>\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>  \x3c!-- Pitch --\x3e\n    <limit lower="0" upper="${M_PI*0.9}" effort="80" velocity="1.2"/>\n    <dynamics damping="0.3" friction="0.05"/>\n  </joint>\n\n  \x3c!-- Left Lower Arm --\x3e\n  <link name="left_lower_arm_link">\n    <inertial>\n      <mass value="${lower_arm_mass}"/>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <inertia\n        ixx="0.01" ixy="0" ixz="0"\n        iyy="0.01" iyz="0"\n        izz="0.003"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.05" length="0.2"/>\n      </geometry>\n      <material name="green"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.05" length="0.2"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Left Wrist --\x3e\n  <joint name="left_wrist_pitch_joint" type="revolute">\n    <parent link="left_lower_arm_link"/>\n    <child link="left_wrist_yaw_link"/>\n    <origin xyz="0 0 -0.24" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>  \x3c!-- Pitch --\x3e\n    <limit lower="${-M_PI/3}" upper="${M_PI/3}" effort="30" velocity="1.0"/>\n    <dynamics damping="0.1" friction="0.02"/>\n  </joint>\n\n  <link name="left_wrist_yaw_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_wrist_yaw_joint" type="revolute">\n    <parent link="left_wrist_yaw_link"/>\n    <child link="left_hand_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>  \x3c!-- Yaw --\x3e\n    <limit lower="${-M_PI/4}" upper="${M_PI/4}" effort="20" velocity="0.8"/>\n    <dynamics damping="0.05" friction="0.01"/>\n  </joint>\n\n  \x3c!-- Left Hand --\x3e\n  <link name="left_hand_link">\n    <inertial>\n      <mass value="${hand_mass}"/>\n      <origin xyz="0.06 0 0" rpy="0 0 0"/>\n      <inertia\n        ixx="0.002" ixy="0" ixz="0"\n        iyy="0.003" iyz="0"\n        izz="0.003"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0.06 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.12 0.08 0.06"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0.06 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.12 0.08 0.06"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Right Arm (mirror of left) --\x3e\n  <joint name="right_shoulder_pitch_joint" type="revolute">\n    <parent link="torso_upper"/>\n    <child link="right_shoulder_pitch_link"/>\n    <origin xyz="0.16 -0.08 0.25" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="100" velocity="1.5"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  <link name="right_shoulder_pitch_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="right_shoulder_roll_joint" type="revolute">\n    <parent link="right_shoulder_pitch_link"/>\n    <child link="right_upper_arm_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="${-M_PI*0.8}" upper="0" effort="80" velocity="1.2"/>\n    <dynamics damping="0.3" friction="0.05"/>\n  </joint>\n\n  <link name="right_upper_arm_link">\n    <inertial>\n      <mass value="${upper_arm_mass}"/>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <inertia\n        ixx="0.02" ixy="0" ixz="0"\n        iyy="0.02" iyz="0"\n        izz="0.005"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.06" length="0.25"/>\n      </geometry>\n      <material name="green"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.06" length="0.25"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_elbow_joint" type="revolute">\n    <parent link="right_upper_arm_link"/>\n    <child link="right_lower_arm_link"/>\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0" upper="${M_PI*0.9}" effort="80" velocity="1.2"/>\n    <dynamics damping="0.3" friction="0.05"/>\n  </joint>\n\n  <link name="right_lower_arm_link">\n    <inertial>\n      <mass value="${lower_arm_mass}"/>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <inertia\n        ixx="0.01" ixy="0" ixz="0"\n        iyy="0.01" iyz="0"\n        izz="0.003"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.05" length="0.2"/>\n      </geometry>\n      <material name="green"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <capsule radius="0.05" length="0.2"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_wrist_pitch_joint" type="revolute">\n    <parent link="right_lower_arm_link"/>\n    <child link="right_wrist_yaw_link"/>\n    <origin xyz="0 0 -0.24" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/3}" upper="${M_PI/3}" effort="30" velocity="1.0"/>\n    <dynamics damping="0.1" friction="0.02"/>\n  </joint>\n\n  <link name="right_wrist_yaw_link">\n    <inertial>\n      <mass value="0.1"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="right_wrist_yaw_joint" type="revolute">\n    <parent link="right_wrist_yaw_link"/>\n    <child link="right_hand_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="${-M_PI/4}" upper="${M_PI/4}" effort="20" velocity="0.8"/>\n    <dynamics damping="0.05" friction="0.01"/>\n  </joint>\n\n  <link name="right_hand_link">\n    <inertial>\n      <mass value="${hand_mass}"/>\n      <origin xyz="0.06 0 0" rpy="0 0 0"/>\n      <inertia\n        ixx="0.002" ixy="0" ixz="0"\n        iyy="0.003" iyz="0"\n        izz="0.003"/>\n    </inertial>\n\n    <visual>\n      <origin xyz="0.06 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.12 0.08 0.06"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n\n    <collision>\n      <origin xyz="0.06 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.12 0.08 0.06"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Gazebo plugins --\x3e\n  <gazebo>\n    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">\n      <robotNamespace>/humanoid</robotNamespace>\n    </plugin>\n  </gazebo>\n\n  \x3c!-- Gazebo materials --\x3e\n  <gazebo reference="base_link">\n    <material>Gazebo/Grey</material>\n    <mu1>0.2</mu1>\n    <mu2>0.2</mu2>\n  </gazebo>\n\n  <gazebo reference="torso_lower">\n    <material>Gazebo/Grey</material>\n  </gazebo>\n\n  <gazebo reference="torso_upper">\n    <material>Gazebo/Grey</material>\n  </gazebo>\n\n  <gazebo reference="head_link">\n    <material>Gazebo/Blue</material>\n  </gazebo>\n\n  \x3c!-- Additional Gazebo configurations for each link --\x3e\n  <gazebo reference="left_thigh_link">\n    <material>Gazebo/Blue</material>\n  </gazebo>\n\n  <gazebo reference="right_thigh_link">\n    <material>Gazebo/Blue</material>\n  </gazebo>\n\n  <gazebo reference="left_shin_link">\n    <material>Gazebo/Blue</material>\n  </gazebo>\n\n  <gazebo reference="right_shin_link">\n    <material>Gazebo/Blue</material>\n  </gazebo>\n\n  <gazebo reference="left_foot_link">\n    <material>Gazebo/Black</material>\n  </gazebo>\n\n  <gazebo reference="right_foot_link">\n    <material>Gazebo/Black</material>\n  </gazebo>\n\n  <gazebo reference="left_upper_arm_link">\n    <material>Gazebo/Green</material>\n  </gazebo>\n\n  <gazebo reference="right_upper_arm_link">\n    <material>Gazebo/Green</material>\n  </gazebo>\n\n  <gazebo reference="left_lower_arm_link">\n    <material>Gazebo/Green</material>\n  </gazebo>\n\n  <gazebo reference="right_lower_arm_link">\n    <material>Gazebo/Green</material>\n  </gazebo>\n\n  <gazebo reference="left_hand_link">\n    <material>Gazebo/White</material>\n  </gazebo>\n\n  <gazebo reference="right_hand_link">\n    <material>Gazebo/White</material>\n  </gazebo>\n\n</robot>\n'})}),"\n",(0,r.jsx)(i.h2,{id:"step-3-creating-a-validation-script",children:"Step 3: Creating a Validation Script"}),"\n",(0,r.jsx)(i.p,{children:"Create a Python script to validate your URDF:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:'#!/usr/bin/env python3\n\nimport xml.etree.ElementTree as ET\nfrom urdf_parser_py.urdf import URDF\nimport sys\nimport math\n\ndef validate_urdf_structure(urdf_path):\n    """Validate the URDF structure and properties"""\n    try:\n        # Parse the URDF file\n        robot = URDF.from_xml_file(urdf_path)\n\n        print(f"Robot name: {robot.name}")\n        print(f"Number of links: {len(robot.links)}")\n        print(f"Number of joints: {len(robot.joints)}")\n\n        # Check for common issues\n        issues = []\n\n        # 1. Check if all joints have valid parent and child links\n        for joint in robot.joints:\n            if joint.parent not in [link.name for link in robot.links]:\n                issues.append(f"Joint {joint.name} has invalid parent link: {joint.parent}")\n            if joint.child not in [link.name for link in robot.links]:\n                issues.append(f"Joint {joint.name} has invalid child link: {joint.child}")\n\n        # 2. Check for links without visual or collision geometry\n        for link in robot.links:\n            has_visual = link.visual is not None\n            has_collision = link.collision is not None\n            if not has_visual and not has_collision:\n                issues.append(f"Link {link.name} has neither visual nor collision geometry")\n\n        # 3. Check for links without inertial properties\n        for link in robot.links:\n            has_inertial = link.inertial is not None\n            if not has_inertial:\n                issues.append(f"Link {link.name} has no inertial properties")\n            else:\n                # Check if mass is positive\n                if link.inertial.mass <= 0:\n                    issues.append(f"Link {link.name} has non-positive mass: {link.inertial.mass}")\n\n        # 4. Check joint limits\n        for joint in robot.joints:\n            if joint.limit:\n                if joint.limit.lower >= joint.limit.upper:\n                    issues.append(f"Joint {joint.name} has invalid limits: lower({joint.limit.lower}) >= upper({joint.limit.upper})")\n\n        # 5. Check for potential kinematic loops\n        # This is a simplified check - in a proper humanoid, each link (except the base) should have exactly one parent\n        children_count = {}\n        for joint in robot.joints:\n            if joint.child in children_count:\n                children_count[joint.child] += 1\n            else:\n                children_count[joint.child] = 1\n\n        for link_name, count in children_count.items():\n            if count > 1:\n                issues.append(f"Link {link_name} has multiple parents (kinematic loop): {count} parents")\n\n        # 6. Validate humanoid-specific structure\n        expected_joints = {\n            \'left_hip_pitch_joint\', \'left_hip_roll_joint\', \'left_hip_yaw_joint\',\n            \'left_knee_joint\', \'left_ankle_pitch_joint\', \'left_ankle_roll_joint\',\n            \'right_hip_pitch_joint\', \'right_hip_roll_joint\', \'right_hip_yaw_joint\',\n            \'right_knee_joint\', \'right_ankle_pitch_joint\', \'right_ankle_roll_joint\',\n            \'left_shoulder_pitch_joint\', \'left_shoulder_roll_joint\', \'left_elbow_joint\',\n            \'right_shoulder_pitch_joint\', \'right_shoulder_roll_joint\', \'right_elbow_joint\'\n        }\n\n        actual_joints = {joint.name for joint in robot.joints}\n        missing_joints = expected_joints - actual_joints\n        if missing_joints:\n            issues.append(f"Missing expected humanoid joints: {missing_joints}")\n\n        # Print results\n        if issues:\n            print("\\n\u274c Issues found:")\n            for i, issue in enumerate(issues, 1):\n                print(f"  {i}. {issue}")\n            return False\n        else:\n            print("\\n\u2705 URDF validation passed!")\n            return True\n\n    except Exception as e:\n        print(f"\u274c Error validating URDF: {e}")\n        return False\n\ndef print_humanoid_summary(urdf_path):\n    """Print a summary of the humanoid robot structure"""\n    try:\n        robot = URDF.from_xml_file(urdf_path)\n\n        print(f"\\n\ud83e\udd16 Humanoid Robot Summary for: {robot.name}")\n        print("=" * 50)\n\n        # Count different types of joints\n        joint_types = {}\n        for joint in robot.joints:\n            jtype = joint.type\n            joint_types[jtype] = joint_types.get(jtype, 0) + 1\n\n        print(f"Joint Types: {joint_types}")\n\n        # Identify body parts\n        left_joints = [j.name for j in robot.joints if j.name.startswith(\'left_\')]\n        right_joints = [j.name for j in robot.joints if j.name.startswith(\'right_\')]\n        other_joints = [j.name for j in robot.joints if not j.name.startswith((\'left_\', \'right_\'))]\n\n        print(f"Left side joints: {len(left_joints)}")\n        print(f"Right side joints: {len(right_joints)}")\n        print(f"Center joints: {len(other_joints)}")\n\n        # Calculate total mass\n        total_mass = sum(link.inertial.mass for link in robot.links if link.inertial)\n        print(f"Total robot mass: {total_mass:.2f} kg")\n\n        # Check for actuated joints (revolute joints)\n        actuated_joints = [j.name for j in robot.joints if j.type == \'revolute\']\n        print(f"Actuated joints: {len(actuated_joints)}")\n\n    except Exception as e:\n        print(f"Error creating summary: {e}")\n\nif __name__ == "__main__":\n    if len(sys.argv) != 2:\n        print("Usage: python validate_urdf.py <urdf_file>")\n        sys.exit(1)\n\n    urdf_file = sys.argv[1]\n\n    print("Validating Humanoid Robot URDF...")\n    is_valid = validate_urdf_structure(urdf_file)\n\n    if is_valid:\n        print_humanoid_summary(urdf_file)\n'})}),"\n",(0,r.jsx)(i.h2,{id:"step-4-creating-a-visualization-launch-file",children:"Step 4: Creating a Visualization Launch File"}),"\n",(0,r.jsx)(i.p,{children:"Create a launch file to visualize your robot:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"# humanoid_publisher_examples/launch/view_humanoid.launch.py\n\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.conditions import IfCondition\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\nfrom launch_ros.actions import Node\nfrom launch_ros.substitutions import FindPackageShare\n\ndef generate_launch_description():\n    # Launch arguments\n    urdf_model_path = LaunchConfiguration('model')\n    use_gui = LaunchConfiguration('gui')\n\n    # Declare launch arguments\n    model_arg = DeclareLaunchArgument(\n        name='model',\n        default_value='urdf/humanoid.urdf',\n        description='URDF file path relative to this package'\n    )\n\n    gui_arg = DeclareLaunchArgument(\n        name='gui',\n        default_value='true',\n        description='Flag to enable joint state publisher gui'\n    )\n\n    # Robot State Publisher node\n    robot_state_publisher_node = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        parameters=[{\n            'robot_description': PathJoinSubstitution([\n                FindPackageShare('humanoid_publisher_examples'),\n                LaunchConfiguration('model')\n            ])\n        }]\n    )\n\n    # Joint State Publisher node\n    joint_state_publisher_node = Node(\n        condition=IfCondition(use_gui),\n        package='joint_state_publisher_gui',\n        executable='joint_state_publisher_gui'\n    )\n\n    # Joint State Publisher (non-GUI version as backup)\n    joint_state_publisher_node_backup = Node(\n        condition=IfCondition('not ' + use_gui),\n        package='joint_state_publisher',\n        executable='joint_state_publisher'\n    )\n\n    # RViz node\n    rviz_node = Node(\n        package='rviz2',\n        executable='rviz2',\n        name='rviz2',\n        output='screen',\n        arguments=['-d', PathJoinSubstitution([\n            FindPackageShare('humanoid_publisher_examples'),\n            'rviz',\n            'view_humanoid.rviz'\n        ])]\n    )\n\n    return LaunchDescription([\n        model_arg,\n        gui_arg,\n        robot_state_publisher_node,\n        joint_state_publisher_node,\n        joint_state_publisher_node_backup,\n        rviz_node\n    ])\n"})}),"\n",(0,r.jsx)(i.h2,{id:"step-5-creating-an-rviz-configuration",children:"Step 5: Creating an RViz Configuration"}),"\n",(0,r.jsx)(i.p,{children:"Create an RViz configuration file to properly visualize your humanoid:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-yaml",children:'# humanoid_publisher_examples/rviz/view_humanoid.rviz\nPanels:\n  - Class: rviz_common/Displays\n    Help Height: 78\n    Name: Displays\n    Property Tree Widget:\n      Expanded:\n        - /Global Options1\n        - /Status1\n        - /RobotModel1\n        - /TF1\n        - /Grid1\n      Splitter Ratio: 0.5\n    Tree Height: 617\n  - Class: rviz_common/Selection\n    Name: Selection\n  - Class: rviz_common/Tool Properties\n    Expanded:\n      - /2D Goal Pose1\n      - /Publish Point1\n    Name: Tool Properties\n    Splitter Ratio: 0.5886790156364441\n  - Class: rviz_common/Views\n    Expanded:\n      - /Current View1\n    Name: Views\n    Splitter Ratio: 0.5\nVisualization Manager:\n  Class: ""\n  Displays:\n    - Alpha: 0.5\n      Cell Size: 1\n      Class: rviz_default_plugins/Grid\n      Color: 160; 160; 164\n      Enabled: true\n      Line Style:\n        Line Width: 0.029999999329447746\n        Value: Lines\n      Name: Grid\n      Normal Cell Count: 0\n      Offset:\n        X: 0\n        Y: 0\n        Z: 0\n      Plane: XY\n      Plane Cell Count: 10\n      Reference Frame: <Fixed Frame>\n      Value: true\n    - Alpha: 1\n      Class: rviz_default_plugins/RobotModel\n      Collision Enabled: false\n      Description File: ""\n      Description Source: Topic\n      Description Topic:\n        Depth: 5\n        Durability Policy: Volatile\n        History Policy: Keep Last\n        Reliability Policy: Reliable\n        Value: /robot_description\n      Enabled: true\n      Links:\n        All Links Enabled: true\n        Expand Joint Details: false\n        Expand Link Details: false\n        Expand Tree: false\n        Link Tree Style: Links in Alphabetic Order\n      Name: RobotModel\n      TF Prefix: ""\n      Update Interval: 0\n      Value: true\n      Visual Enabled: true\n    - Class: rviz_default_plugins/TF\n      Enabled: true\n      Frame Timeout: 15\n      Frames:\n        All Enabled: true\n      Marker Scale: 1\n      Name: TF\n      Show Arrows: true\n      Show Axes: true\n      Show Names: true\n      Tree:\n        {}\n      Update Interval: 0\n      Value: true\n  Enabled: true\n  Global Options:\n    Background Color: 48; 48; 48\n    Fixed Frame: base_link\n    Frame Rate: 30\n  Name: root\n  Tools:\n    - Class: rviz_default_plugins/Interact\n      Hide Inactive Objects: true\n    - Class: rviz_default_plugins/MoveCamera\n    - Class: rviz_default_plugins/Select\n    - Class: rviz_default_plugins/FocusCamera\n    - Class: rviz_default_plugins/Measure\n    - Class: rviz_default_plugins/SetInitialPose\n    - Class: rviz_default_plugins/SetGoal\n    - Class: rviz_default_plugins/PublishPoint\n  Transformation:\n    Current:\n      Class: rviz_default_plugins/TF\n  Value: true\n  Views:\n    Current:\n      Class: rviz_default_plugins/Orbit\n      Distance: 3\n      Enable Stereo Rendering:\n        Stereo Eye Separation: 0.05999999865889549\n        Stereo Focal Distance: 1\n        Swap Stereo Eyes: false\n        Value: false\n      Focal Point:\n        X: 0\n        Y: 0\n        Z: 0.5\n      Focal Shape Fixed Size: true\n      Focal Shape Size: 0.05000000074505806\n      Invert Z Axis: false\n      Name: Current View\n      Near Clip Distance: 0.009999999776482582\n      Pitch: 0.5\n      Target Frame: <Fixed Frame>\n      Value: Orbit (rviz)\n      Yaw: 0.5\n    Saved: ~\nWindow Geometry:\n  Displays:\n    collapsed: false\n  Height: 846\n  Hide Left Dock: false\n  Hide Right Dock: false\n  QMainWindow State: 000000ff00000000fd000000040000000000000156000002f4fc0200000008fb0000001200530065006c0065006300740069006f006e00000001e10000009b0000005c00fffffffb0000001e0054006f006f006c002000500072006f007000650072007400690065007302000001ed000001df00000185000000a3fb000000120056006900650077007300200054006f006f02000001df000002110000018500000122fb000000200054006f006f006c002000500072006f0070006500720074006900650073003203000002880000011d000002210000017afb000000100044006900730070006c006100790073010000003d000002f4000000c900fffffffb0000002000730065006c0065006300740069006f006e00200062007500660066006500720200000138000000aa000025a900000000000000000000000200000490000000a9fc0100000001fb0000000a00560069006500770073030000004e00000080000002e10000019700000003000004420000003efc0100000002fb0000000800540069006d00650100000000000004420000000000000000fb0000000800540069006d006501000000000000045000000000000000000000023f000002f400000004000000040000000800000008fc0000000100000002000000010000000a0054006f006f006c00730100000000ffffffff0000000000000000\n  Selection:\n    collapsed: false\n  Tool Properties:\n    collapsed: false\n  Views:\n    collapsed: false\n  Width: 1200\n  X: 72\n  Y: 60\n'})}),"\n",(0,r.jsx)(i.h2,{id:"step-6-testing-your-urdf",children:"Step 6: Testing Your URDF"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Validate the URDF syntax"}),":"]}),"\n"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"# Check URDF syntax\ncheck_urdf /path/to/your/humanoid.urdf\n\n# Use your validation script\npython3 validate_urdf.py /path/to/your/humanoid.urdf\n"})}),"\n",(0,r.jsxs)(i.ol,{start:"2",children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Visualize in RViz"}),":"]}),"\n"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"# Create the URDF file in your package\nmkdir -p ~/humanoid_ws/src/humanoid_publisher_examples/urdf\n# Save the URDF content to humanoid.urdf\n\n# Build and source\ncd ~/humanoid_ws\ncolcon build --packages-select humanoid_publisher_examples\nsource install/setup.bash\n\n# Launch visualization\nros2 launch humanoid_publisher_examples view_humanoid.launch.py\n"})}),"\n",(0,r.jsx)(i.h2,{id:"step-7-integration-with-previous-exercises",children:"Step 7: Integration with Previous Exercises"}),"\n",(0,r.jsx)(i.p,{children:"Now let's create a script that publishes joint states for your new robot model:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"# humanoid_publisher_examples/humanoid_demo_publisher.py\n\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nfrom std_msgs.msg import Header\nimport math\n\nclass HumanoidDemoPublisher(Node):\n    def __init__(self):\n        super().__init__('humanoid_demo_publisher')\n\n        # Create publisher for joint states\n        self.publisher = self.create_publisher(JointState, 'joint_states', 10)\n\n        # Timer for publishing (50 Hz)\n        self.timer = self.create_timer(0.02, self.timer_callback)\n\n        # Define all humanoid joints\n        self.joint_names = [\n            # Torso\n            'torso_upper_joint',\n\n            # Neck\n            'neck_joint',\n\n            # Left leg (6 DOF)\n            'left_hip_yaw_joint', 'left_hip_roll_joint', 'left_hip_pitch_joint',\n            'left_knee_joint',\n            'left_ankle_pitch_joint', 'left_ankle_roll_joint',\n\n            # Right leg (6 DOF)\n            'right_hip_yaw_joint', 'right_hip_roll_joint', 'right_hip_pitch_joint',\n            'right_knee_joint',\n            'right_ankle_pitch_joint', 'right_ankle_roll_joint',\n\n            # Left arm (6 DOF)\n            'left_shoulder_pitch_joint', 'left_shoulder_roll_joint', 'left_elbow_joint',\n            'left_wrist_pitch_joint', 'left_wrist_yaw_joint',\n\n            # Right arm (6 DOF)\n            'right_shoulder_pitch_joint', 'right_shoulder_roll_joint', 'right_elbow_joint',\n            'right_wrist_pitch_joint', 'right_wrist_yaw_joint'\n        ]\n\n        # Initialize all joint positions\n        self.joint_positions = [0.0] * len(self.joint_names)\n        self.joint_velocities = [0.0] * len(self.joint_names)\n        self.joint_efforts = [0.0] * len(self.joint_names)\n\n        # Time counter for animations\n        self.time_counter = 0.0\n\n        self.get_logger().info(f'Humanoid Demo Publisher initialized with {len(self.joint_names)} joints')\n\n    def timer_callback(self):\n        \"\"\"Publish joint states with various movement patterns\"\"\"\n        # Update joint positions based on time\n        self.time_counter += 0.02\n\n        # Walking gait simulation for legs\n        walk_phase = math.sin(2 * math.pi * 0.5 * self.time_counter)\n\n        # Left leg\n        self.joint_positions[self.joint_names.index('left_hip_pitch_joint')] = 0.2 * walk_phase\n        self.joint_positions[self.joint_names.index('left_knee_joint')] = 0.4 * walk_phase\n        self.joint_positions[self.joint_names.index('left_ankle_pitch_joint')] = -0.2 * walk_phase\n\n        # Right leg (opposite phase)\n        self.joint_positions[self.joint_names.index('right_hip_pitch_joint')] = 0.2 * -walk_phase\n        self.joint_positions[self.joint_names.index('right_knee_joint')] = 0.4 * -walk_phase\n        self.joint_positions[self.joint_names.index('right_ankle_pitch_joint')] = -0.2 * -walk_phase\n\n        # Arm swinging opposite to legs\n        self.joint_positions[self.joint_names.index('left_shoulder_pitch_joint')] = 0.1 * -walk_phase\n        self.joint_positions[self.joint_names.index('right_shoulder_pitch_joint')] = 0.1 * walk_phase\n\n        # Add small oscillations to other joints\n        for i, joint_name in enumerate(self.joint_names):\n            if joint_name not in [\n                'left_hip_pitch_joint', 'left_knee_joint', 'left_ankle_pitch_joint',\n                'right_hip_pitch_joint', 'right_knee_joint', 'right_ankle_pitch_joint',\n                'left_shoulder_pitch_joint', 'right_shoulder_pitch_joint'\n            ]:\n                # Small random movement for other joints\n                self.joint_positions[i] = 0.05 * math.sin(0.3 * self.time_counter + i * 0.2)\n\n        # Create and publish the message\n        msg = JointState()\n        msg.header = Header()\n        msg.header.stamp = self.get_clock().now().to_msg()\n        msg.header.frame_id = 'base_link'\n        msg.name = self.joint_names\n        msg.position = self.joint_positions\n        msg.velocity = self.joint_velocities\n        msg.effort = self.joint_efforts\n\n        self.publisher.publish(msg)\n\n        # Log periodically\n        if int(self.time_counter * 50) % 100 == 0:\n            self.get_logger().info('Published humanoid joint states')\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    try:\n        demo_publisher = HumanoidDemoPublisher()\n        demo_publisher.get_logger().info('Starting humanoid demo publisher...')\n\n        rclpy.spin(demo_publisher)\n\n    except KeyboardInterrupt:\n        print('\\nShutting down humanoid demo publisher...')\n    finally:\n        demo_publisher.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(i.h2,{id:"step-8-adding-the-demo-publisher-to-setuppy",children:"Step 8: Adding the Demo Publisher to setup.py"}),"\n",(0,r.jsxs)(i.p,{children:["Add the new executable to your ",(0,r.jsx)(i.code,{children:"setup.py"}),":"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"# Add to entry_points in setup.py\nentry_points={\n    'console_scripts': [\n        'simple_joint_publisher = humanoid_publisher_examples.simple_joint_publisher:main',\n        'enhanced_joint_publisher = humanoid_publisher_examples.enhanced_joint_publisher:main',\n        'joint_control_server = humanoid_publisher_examples.joint_control_server:main',\n        'robust_control_server = humanoid_publisher_examples.robust_control_server:main',\n        'joint_control_client = humanoid_publisher_examples.joint_control_client:main',\n        'manual_control_client = humanoid_publisher_examples.manual_control_client:main',\n        'humanoid_demo_publisher = humanoid_publisher_examples.humanoid_demo_publisher:main',\n    ],\n},\n"})}),"\n",(0,r.jsx)(i.h2,{id:"step-9-running-the-complete-system",children:"Step 9: Running the Complete System"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Build the package"}),":"]}),"\n"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"cd ~/humanoid_ws\ncolcon build --packages-select humanoid_publisher_examples\nsource install/setup.bash\n"})}),"\n",(0,r.jsxs)(i.ol,{start:"2",children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Run the visualization with demo publisher"}),":"]}),"\n"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"# Terminal 1: Launch RViz with the robot model\nros2 launch humanoid_publisher_examples view_humanoid.launch.py\n\n# Terminal 2: Run the demo publisher\nros2 run humanoid_publisher_examples humanoid_demo_publisher\n"})}),"\n",(0,r.jsx)(i.h2,{id:"troubleshooting-tips",children:"Troubleshooting Tips"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"URDF Validation Errors"}),": Use ",(0,r.jsx)(i.code,{children:"check_urdf"})," to identify syntax errors"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Missing Joint States"}),": Make sure the joint names in your publisher match the URDF"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Visualization Issues"}),": Check that the robot description parameter is properly set"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Gazebo Integration"}),": Ensure Gazebo plugins are properly configured"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(i.p,{children:"After completing this exercise, you should have:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"A complete humanoid robot URDF model"}),"\n",(0,r.jsx)(i.li,{children:"Validation tools to check your model"}),"\n",(0,r.jsx)(i.li,{children:"Visualization setup for development"}),"\n",(0,r.jsx)(i.li,{children:"Integration with your control systems"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"In the next module, we'll explore how to simulate this humanoid robot in Gazebo and connect it with ROS 2 controllers."})]})}function c(n={}){const{wrapper:i}={...(0,o.R)(),...n.components};return i?(0,r.jsx)(i,{...n,children:(0,r.jsx)(_,{...n})}):_(n)}},8453:(n,i,e)=>{e.d(i,{R:()=>l,x:()=>a});var t=e(6540);const r={},o=t.createContext(r);function l(n){const i=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function a(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),t.createElement(o.Provider,{value:i},n.children)}}}]);