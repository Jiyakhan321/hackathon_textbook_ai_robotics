"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[4607],{1173:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"module-1-robotic-nervous-system/ros2-architecture/nodes-topics-services","title":"Nodes, Topics, and Services","description":"Understanding ROS 2 Architecture","source":"@site/docs/module-1-robotic-nervous-system/ros2-architecture/nodes-topics-services.md","sourceDirName":"module-1-robotic-nervous-system/ros2-architecture","slug":"/module-1-robotic-nervous-system/ros2-architecture/nodes-topics-services","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/ros2-architecture/nodes-topics-services","draft":false,"unlisted":false,"editUrl":"https://github.com/Jiyakhan321/hackathon_textbook_ai_robotics/tree/main/docs/module-1-robotic-nervous-system/ros2-architecture/nodes-topics-services.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Module 1: The Robotic Nervous System (ROS 2)","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/intro"},"next":{"title":"Message Types and Definitions","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/ros2-architecture/message-types"}}');var r=n(4848),t=n(8453);const o={sidebar_position:1},c="Nodes, Topics, and Services",l={},a=[{value:"Understanding ROS 2 Architecture",id:"understanding-ros-2-architecture",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Services",id:"services",level:3},{value:"Creating Your First ROS 2 Node",id:"creating-your-first-ros-2-node",level:2},{value:"Understanding Topics",id:"understanding-topics",level:2},{value:"Publisher-Subscriber Pattern",id:"publisher-subscriber-pattern",level:3},{value:"Services for Request-Response",id:"services-for-request-response",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"nodes-topics-and-services",children:"Nodes, Topics, and Services"})}),"\n",(0,r.jsx)(s.h2,{id:"understanding-ros-2-architecture",children:"Understanding ROS 2 Architecture"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 (Robot Operating System 2) is a flexible framework for writing robot software. It's not an operating system but rather a collection of tools, libraries, and conventions that aim to simplify the task of creating complex robotic applications."}),"\n",(0,r.jsx)(s.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,r.jsx)(s.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(s.p,{children:"A node is a process that performs computation. In ROS 2, nodes are designed to be as lightweight as possible. Multiple nodes are typically used to implement a robot application, each performing a specific task."}),"\n",(0,r.jsx)(s.h3,{id:"topics",children:"Topics"}),"\n",(0,r.jsx)(s.p,{children:"Topics enable asynchronous message passing between nodes. Nodes can publish messages to a topic or subscribe to a topic to receive messages. This creates a publish-subscribe communication pattern."}),"\n",(0,r.jsx)(s.h3,{id:"services",children:"Services"}),"\n",(0,r.jsx)(s.p,{children:"Services provide synchronous request-response communication between nodes. A service client sends a request to a service server and waits for a response."}),"\n",(0,r.jsx)(s.h2,{id:"creating-your-first-ros-2-node",children:"Creating Your First ROS 2 Node"}),"\n",(0,r.jsx)(s.p,{children:"Let's create a simple ROS 2 node that publishes a message:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(s.h2,{id:"understanding-topics",children:"Understanding Topics"}),"\n",(0,r.jsx)(s.p,{children:"Topics are named buses over which nodes exchange messages. The name is a unique identifier within the ROS graph. Topics use a publish-subscribe communication pattern where multiple nodes can publish to the same topic and multiple nodes can subscribe to the same topic."}),"\n",(0,r.jsx)(s.h3,{id:"publisher-subscriber-pattern",children:"Publisher-Subscriber Pattern"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Publishers send data to a topic without knowledge of subscribers"}),"\n",(0,r.jsx)(s.li,{children:"Subscribers receive data from a topic without knowledge of publishers"}),"\n",(0,r.jsx)(s.li,{children:"This decouples the components and allows for flexible system design"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"services-for-request-response",children:"Services for Request-Response"}),"\n",(0,r.jsx)(s.p,{children:"Services provide a request-response communication pattern. When a client calls a service, it sends a request and waits for a response from the service server."}),"\n",(0,r.jsx)(s.p,{children:"Example service client:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.srv import AddTwoInts\n\nclass MinimalClientAsync(Node):\n\n    def __init__(self):\n        super().__init__('minimal_client_async')\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\n        while not self.cli.wait_for_service(timeout_sec=1.0):\n            self.get_logger().info('service not available, waiting again...')\n        self.req = AddTwoInts.Request()\n\n    def send_request(self, a, b):\n        self.req.a = a\n        self.req.b = b\n        self.future = self.cli.call_async(self.req)\n        rclpy.spin_until_future_complete(self, self.future)\n        return self.future.result()\n\ndef main():\n    rclpy.init()\n    minimal_client = MinimalClientAsync()\n    response = minimal_client.send_request(1, 2)\n    minimal_client.get_logger().info(\n        'Result of add_two_ints: for %d + %d = %d' %\n        (1, 2, response.sum))\n    minimal_client.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Node Design"}),": Keep nodes focused on a single responsibility"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topic Naming"}),": Use descriptive, consistent names with forward slashes for hierarchy"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Message Types"}),": Use standard message types when possible to ensure compatibility"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Error Handling"}),": Implement proper error handling and logging in your nodes"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Resource Management"}),": Always clean up resources when nodes are destroyed"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(s.p,{children:"Now that you understand the core concepts of ROS 2 architecture, let's dive deeper into message types and how they enable communication between nodes."})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var i=n(6540);const r={},t=i.createContext(r);function o(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);