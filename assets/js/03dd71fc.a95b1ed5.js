"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[329],{5509:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"module-1-robotic-nervous-system/urdf-modeling/visualizing-urdf","title":"Visualizing and Validating URDF Models","description":"Overview","source":"@site/docs/module-1-robotic-nervous-system/urdf-modeling/visualizing-urdf.md","sourceDirName":"module-1-robotic-nervous-system/urdf-modeling","slug":"/module-1-robotic-nervous-system/urdf-modeling/visualizing-urdf","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/urdf-modeling/visualizing-urdf","draft":false,"unlisted":false,"editUrl":"https://github.com/Jiyakhan321/hackathon_textbook_ai_robotics/tree/main/docs/module-1-robotic-nervous-system/urdf-modeling/visualizing-urdf.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Humanoid Robot Structure and Kinematics","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/urdf-modeling/humanoid-robot-structure"},"next":{"title":"Exercise 1: Simple Publisher Node for Humanoid Robot","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/practical-exercises/exercise-1-simple-publisher"}}');var o=i(4848),a=i(8453);const s={sidebar_position:3},r="Visualizing and Validating URDF Models",l={},u=[{value:"Overview",id:"overview",level:2},{value:"URDF Validation Tools",id:"urdf-validation-tools",level:2},{value:"1. Command Line Validation",id:"1-command-line-validation",level:3},{value:"2. Python Validation Script",id:"2-python-validation-script",level:3},{value:"Visualization Tools",id:"visualization-tools",level:2},{value:"1. RViz Visualization",id:"1-rviz-visualization",level:3},{value:"2. Command Line Visualization",id:"2-command-line-visualization",level:3},{value:"Interactive Joint Control",id:"interactive-joint-control",level:2},{value:"Creating a Visualization Package",id:"creating-a-visualization-package",level:2},{value:"Package Structure",id:"package-structure",level:3},{value:"Launch File",id:"launch-file",level:3},{value:"RViz Configuration",id:"rviz-configuration",level:3},{value:"Testing URDF in Gazebo Simulation",id:"testing-urdf-in-gazebo-simulation",level:2},{value:"URDF Debugging Techniques",id:"urdf-debugging-techniques",level:2},{value:"1. Checking Transform Tree",id:"1-checking-transform-tree",level:3},{value:"2. Joint State Monitoring",id:"2-joint-state-monitoring",level:3},{value:"3. URDF Parser Debugging",id:"3-urdf-parser-debugging",level:3},{value:"Advanced Visualization: Creating Joint Trajectory Demonstrations",id:"advanced-visualization-creating-joint-trajectory-demonstrations",level:2},{value:"Common URDF Issues and Solutions",id:"common-urdf-issues-and-solutions",level:2},{value:"1. Floating Point Precision",id:"1-floating-point-precision",level:3},{value:"2. Mass and Inertia Issues",id:"2-mass-and-inertia-issues",level:3},{value:"3. Joint Limit Issues",id:"3-joint-limit-issues",level:3},{value:"Best Practices for URDF Visualization",id:"best-practices-for-urdf-visualization",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"visualizing-and-validating-urdf-models",children:"Visualizing and Validating URDF Models"})}),"\n",(0,o.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(e.p,{children:"Creating a URDF model is only the first step. To ensure your humanoid robot model works correctly, you need to visualize it, validate its structure, and test its functionality. This section covers the tools and techniques for visualizing and validating URDF models."}),"\n",(0,o.jsx)(e.h2,{id:"urdf-validation-tools",children:"URDF Validation Tools"}),"\n",(0,o.jsx)(e.h3,{id:"1-command-line-validation",children:"1. Command Line Validation"}),"\n",(0,o.jsx)(e.p,{children:"The first step in validation is checking the URDF syntax:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Install URDF validation tools\nsudo apt-get install ros-humble-urdfdom-py\n\n# Validate URDF syntax\ncheck_urdf /path/to/robot.urdf\n\n# This will output:\n# * Successfully Parsed file\n# * Robot name: humanoid_robot\n# * 27 links\n# * 26 joints\n# * 26 fixed joints\n# * 0 floating joints\n# * 0 prismatic joints\n# * 26 revolute joints\n"})}),"\n",(0,o.jsx)(e.h3,{id:"2-python-validation-script",children:"2. Python Validation Script"}),"\n",(0,o.jsx)(e.p,{children:"You can also validate URDF programmatically:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\n\nimport xml.etree.ElementTree as ET\nfrom urdf_parser_py.urdf import URDF\nimport sys\n\ndef validate_urdf(urdf_path):\n    """Validate URDF file programmatically"""\n    try:\n        # Parse URDF file\n        robot = URDF.from_xml_file(urdf_path)\n\n        print(f"Robot name: {robot.name}")\n        print(f"Number of links: {len(robot.links)}")\n        print(f"Number of joints: {len(robot.joints)}")\n\n        # Check for common issues\n        issues = []\n\n        # Check for links without visual/collision geometry\n        for link in robot.links:\n            if not link.visual and not link.collision:\n                issues.append(f"Link {link.name} has no visual or collision geometry")\n\n        # Check for links without inertial properties\n        for link in robot.links:\n            if not link.inertial:\n                issues.append(f"Link {link.name} has no inertial properties")\n\n        # Check joint limits\n        for joint in robot.joints:\n            if joint.limit:\n                if joint.limit.lower >= joint.limit.upper:\n                    issues.append(f"Joint {joint.name} has invalid limits: {joint.limit.lower} >= {joint.limit.upper}")\n\n        if issues:\n            print("Issues found:")\n            for issue in issues:\n                print(f"  - {issue}")\n        else:\n            print("URDF validation passed!")\n\n        return len(issues) == 0\n\n    except Exception as e:\n        print(f"Error validating URDF: {e}")\n        return False\n\nif __name__ == "__main__":\n    if len(sys.argv) != 2:\n        print("Usage: python validate_urdf.py <urdf_file>")\n        sys.exit(1)\n\n    urdf_file = sys.argv[1]\n    validate_urdf(urdf_file)\n'})}),"\n",(0,o.jsx)(e.h2,{id:"visualization-tools",children:"Visualization Tools"}),"\n",(0,o.jsx)(e.h3,{id:"1-rviz-visualization",children:"1. RViz Visualization"}),"\n",(0,o.jsx)(e.p,{children:"RViz is the primary visualization tool for ROS. Here's how to set it up for URDF visualization:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:'# Launch RViz with robot model\nros2 run rviz2 rviz2\n\n# In RViz, add displays:\n# - RobotModel: Set "Description Source" to "Topic" and "Topic" to "/robot_description"\n# - TF: To see the transform tree\n# - JointState: To visualize joint values\n'})}),"\n",(0,o.jsx)(e.p,{children:"Create a launch file to automate this:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:'# robot_visualization.launch.py\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\nfrom launch.substitutions import PathJoinSubstitution\nfrom launch_ros.substitutions import FindPackageShare\n\ndef generate_launch_description():\n    # Declare arguments\n    declared_arguments = []\n    declared_arguments.append(\n        DeclareLaunchArgument(\n            "model",\n            default_value="humanoid.urdf",\n            description="URDF file to visualize",\n        )\n    )\n\n    # Get URDF path\n    model_path = LaunchConfiguration("model")\n\n    # Robot State Publisher node\n    robot_state_publisher = Node(\n        package="robot_state_publisher",\n        executable="robot_state_publisher",\n        parameters=[{"robot_description": model_path}],\n    )\n\n    # Joint State Publisher GUI (for manual joint control)\n    joint_state_publisher_gui = Node(\n        package="joint_state_publisher_gui",\n        executable="joint_state_publisher_gui",\n    )\n\n    # RViz node\n    rviz = Node(\n        package="rviz2",\n        executable="rviz2",\n        arguments=["-d", PathJoinSubstitution([FindPackageShare("my_robot_description"), "rviz", "view_robot.rviz"])],\n    )\n\n    return LaunchDescription(\n        declared_arguments\n        + [\n            robot_state_publisher,\n            joint_state_publisher_gui,\n            rviz,\n        ]\n    )\n'})}),"\n",(0,o.jsx)(e.h3,{id:"2-command-line-visualization",children:"2. Command Line Visualization"}),"\n",(0,o.jsx)(e.p,{children:"For quick visualization without creating launch files:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:'# Method 1: Using xacro if your URDF is in xacro format\nros2 run xacro xacro /path/to/robot.xacro > /tmp/robot.urdf\nros2 run rviz2 rviz2\n\n# Method 2: Direct URDF visualization\nros2 run robot_state_publisher robot_state_publisher --ros-args -p robot_description:="/path/to/robot.urdf"\n'})}),"\n",(0,o.jsx)(e.h2,{id:"interactive-joint-control",children:"Interactive Joint Control"}),"\n",(0,o.jsx)(e.p,{children:"Use the Joint State Publisher GUI to interactively control joint positions:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- In your URDF, make sure to include default joint values --\x3e\n<joint name="left_elbow_joint" type="revolute">\n  <parent link="left_upper_arm"/>\n  <child link="left_lower_arm"/>\n  <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n  <limit lower="0.0" upper="2.5" effort="80" velocity="1.2"/>\n  \x3c!-- Joint State Publisher will use the limit values for slider ranges --\x3e\n</joint>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"creating-a-visualization-package",children:"Creating a Visualization Package"}),"\n",(0,o.jsx)(e.p,{children:"Let's create a complete visualization setup:"}),"\n",(0,o.jsx)(e.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"robot_visualization/\n\u251c\u2500\u2500 CMakeLists.txt\n\u251c\u2500\u2500 package.xml\n\u251c\u2500\u2500 launch/\n\u2502   \u2514\u2500\u2500 display.launch.py\n\u251c\u2500\u2500 rviz/\n\u2502   \u2514\u2500\u2500 view_robot.rviz\n\u2514\u2500\u2500 urdf/\n    \u2514\u2500\u2500 humanoid.urdf\n"})}),"\n",(0,o.jsx)(e.h3,{id:"launch-file",children:"Launch File"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"# launch/display.launch.py\nimport os\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.conditions import IfCondition\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\nfrom launch_ros.actions import Node\nfrom launch_ros.substitutions import FindPackageShare\n\ndef generate_launch_description():\n    # Launch arguments\n    urdf_model_path = LaunchConfiguration('model')\n    gui_config = LaunchConfiguration('gui')\n\n    # Declare launch arguments\n    model_arg = DeclareLaunchArgument(\n        name='model',\n        default_value='urdf/humanoid.urdf',\n        description='URDF file path relative to this package'\n    )\n\n    gui_arg = DeclareLaunchArgument(\n        name='gui',\n        default_value='true',\n        description='Flag to enable joint state publisher gui'\n    )\n\n    # Robot State Publisher node\n    robot_state_publisher_node = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        parameters=[{\n            'robot_description': PathJoinSubstitution([\n                FindPackageShare('robot_visualization'),\n                LaunchConfiguration('model')\n            ])\n        }]\n    )\n\n    # Joint State Publisher node\n    joint_state_publisher_node = Node(\n        condition=IfCondition(gui_config),\n        package='joint_state_publisher_gui',\n        executable='joint_state_publisher_gui'\n    )\n\n    # Joint State Publisher (non-GUI version as backup)\n    joint_state_publisher_node_backup = Node(\n        condition=IfCondition('not ' + gui_config),\n        package='joint_state_publisher',\n        executable='joint_state_publisher'\n    )\n\n    # RViz node\n    rviz_node = Node(\n        package='rviz2',\n        executable='rviz2',\n        name='rviz2',\n        output='screen',\n        arguments=['-d', PathJoinSubstitution([\n            FindPackageShare('robot_visualization'),\n            'rviz',\n            'view_robot.rviz'\n        ])]\n    )\n\n    return LaunchDescription([\n        model_arg,\n        gui_arg,\n        robot_state_publisher_node,\n        joint_state_publisher_node,\n        joint_state_publisher_node_backup,\n        rviz_node\n    ])\n"})}),"\n",(0,o.jsx)(e.h3,{id:"rviz-configuration",children:"RViz Configuration"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:'# rviz/view_robot.rviz\nPanels:\n  - Class: rviz_common/Displays\n    Help Height: 78\n    Name: Displays\n    Property Tree Widget:\n      Expanded:\n        - /Global Options1\n        - /Status1\n        - /RobotModel1\n        - /TF1\n      Splitter Ratio: 0.5\n    Tree Height: 617\n  - Class: rviz_common/Selection\n    Name: Selection\n  - Class: rviz_common/Tool Properties\n    Expanded:\n      - /2D Goal Pose1\n      - /Publish Point1\n    Name: Tool Properties\n    Splitter Ratio: 0.5886790156364441\n  - Class: rviz_common/Views\n    Expanded:\n      - /Current View1\n    Name: Views\n    Splitter Ratio: 0.5\nVisualization Manager:\n  Class: ""\n  Displays:\n    - Alpha: 0.5\n      Cell Size: 1\n      Class: rviz_default_plugins/Grid\n      Color: 160; 160; 164\n      Enabled: true\n      Line Style:\n        Line Width: 0.029999999329447746\n        Value: Lines\n      Name: Grid\n      Normal Cell Count: 0\n      Offset:\n        X: 0\n        Y: 0\n        Z: 0\n      Plane: XY\n      Plane Cell Count: 10\n      Reference Frame: <Fixed Frame>\n      Value: true\n    - Alpha: 1\n      Class: rviz_default_plugins/RobotModel\n      Collision Enabled: false\n      Description File: ""\n      Description Source: Topic\n      Description Topic:\n        Depth: 5\n        Durability Policy: Volatile\n        History Policy: Keep Last\n        Reliability Policy: Reliable\n        Value: /robot_description\n      Enabled: true\n      Links:\n        All Links Enabled: true\n        Expand Joint Details: false\n        Expand Link Details: false\n        Expand Tree: false\n        Link Tree Style: Links in Alphabetic Order\n      Name: RobotModel\n      TF Prefix: ""\n      Update Interval: 0\n      Value: true\n      Visual Enabled: true\n    - Class: rviz_default_plugins/TF\n      Enabled: true\n      Frame Timeout: 15\n      Frames:\n        All Enabled: true\n      Marker Scale: 0.5\n      Name: TF\n      Show Arrows: true\n      Show Axes: true\n      Show Names: false\n      Tree:\n        {}\n      Update Interval: 0\n      Value: true\n  Enabled: true\n  Global Options:\n    Background Color: 48; 48; 48\n    Fixed Frame: base_link\n    Frame Rate: 30\n  Name: root\n  Tools:\n    - Class: rviz_default_plugins/Interact\n      Hide Inactive Objects: true\n    - Class: rviz_default_plugins/MoveCamera\n    - Class: rviz_default_plugins/Select\n    - Class: rviz_default_plugins/FocusCamera\n    - Class: rviz_default_plugins/Measure\n    - Class: rviz_default_plugins/SetInitialPose\n    - Class: rviz_default_plugins/SetGoal\n    - Class: rviz_default_plugins/PublishPoint\n  Transformation:\n    Current:\n      Class: rviz_default_plugins/TF\n  Value: true\n  Views:\n    Current:\n      Class: rviz_default_plugins/Orbit\n      Distance: 2.5\n      Enable Stereo Rendering:\n        Stereo Eye Separation: 0.05999999865889549\n        Stereo Focal Distance: 1\n        Swap Stereo Eyes: false\n        Value: false\n      Focal Point:\n        X: 0\n        Y: 0\n        Z: 0\n      Focal Shape Fixed Size: true\n      Focal Shape Size: 0.05000000074505806\n      Invert Z Axis: false\n      Name: Current View\n      Near Clip Distance: 0.009999999776482582\n      Pitch: 0.5\n      Target Frame: <Fixed Frame>\n      Value: Orbit (rviz)\n      Yaw: 0.5\n    Saved: ~\nWindow Geometry:\n  Displays:\n    collapsed: false\n  Height: 846\n  Hide Left Dock: false\n  Hide Right Dock: false\n  QMainWindow State: 000000ff00000000fd000000040000000000000156000002f4fc0200000008fb0000001200530065006c0065006300740069006f006e00000001e10000009b0000005c00fffffffb0000001e0054006f006f006c002000500072006f007000650072007400690065007302000001ed000001df00000185000000a3fb000000120056006900650077007300200054006f006f02000001df000002110000018500000122fb000000200054006f006f006c002000500072006f0070006500720074006900650073003203000002880000011d000002210000017afb000000100044006900730070006c006100790073010000003d000002f4000000c900fffffffb0000002000730065006c0065006300740069006f006e00200062007500660066006500720200000138000000aa000025a900000000000000000000000200000490000000a9fc0100000001fb0000000a00560069006500770073030000004e00000080000002e10000019700000003000004420000003efc0100000002fb0000000800540069006d00650100000000000004420000000000000000fb0000000800540069006d006501000000000000045000000000000000000000023f000002f400000004000000040000000800000008fc0000000100000002000000010000000a0054006f006f006c00730100000000ffffffff0000000000000000\n  Selection:\n    collapsed: false\n  Tool Properties:\n    collapsed: false\n  Views:\n    collapsed: false\n  Width: 1200\n  X: 72\n  Y: 60\n'})}),"\n",(0,o.jsx)(e.h2,{id:"testing-urdf-in-gazebo-simulation",children:"Testing URDF in Gazebo Simulation"}),"\n",(0,o.jsx)(e.p,{children:"To test your URDF in Gazebo simulation:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Add Gazebo-specific tags to your URDF --\x3e\n<robot name="humanoid_robot">\n  \x3c!-- ... your existing URDF ... --\x3e\n\n  \x3c!-- Gazebo plugins --\x3e\n  <gazebo>\n    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">\n      <robotNamespace>/humanoid</robotNamespace>\n    </plugin>\n  </gazebo>\n\n  \x3c!-- Material definitions for Gazebo --\x3e\n  <gazebo reference="base_link">\n    <material>Gazebo/White</material>\n    <mu1>0.2</mu1>\n    <mu2>0.2</mu2>\n  </gazebo>\n</robot>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"urdf-debugging-techniques",children:"URDF Debugging Techniques"}),"\n",(0,o.jsx)(e.h3,{id:"1-checking-transform-tree",children:"1. Checking Transform Tree"}),"\n",(0,o.jsx)(e.p,{children:"Use the TF tree to verify your kinematic structure:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# View the transform tree\nros2 run tf2_tools view_frames\n\n# View specific transforms\nros2 run tf2_ros tf2_echo base_link left_foot_link\n\n# Visualize TF in RViz\n# Add TF display and check that all links are connected properly\n"})}),"\n",(0,o.jsx)(e.h3,{id:"2-joint-state-monitoring",children:"2. Joint State Monitoring"}),"\n",(0,o.jsx)(e.p,{children:"Monitor joint states to ensure they're being published correctly:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Echo joint states topic\nros2 topic echo /joint_states\n\n# Use rqt to visualize joint states\nros2 run rqt_joint_trajectory_controller rqt_joint_trajectory_controller\n"})}),"\n",(0,o.jsx)(e.h3,{id:"3-urdf-parser-debugging",children:"3. URDF Parser Debugging"}),"\n",(0,o.jsx)(e.p,{children:"Create a debug script to analyze your URDF:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\n\nimport xml.etree.ElementTree as ET\nfrom urdf_parser_py.urdf import URDF\nimport networkx as nx\nimport matplotlib.pyplot as plt\nfrom collections import defaultdict\n\ndef analyze_urdf(urdf_path):\n    """Analyze URDF structure and properties"""\n    robot = URDF.from_xml_file(urdf_path)\n\n    print(f"Robot: {robot.name}")\n    print(f"Links: {len(robot.links)}")\n    print(f"Joints: {len(robot.joints)}")\n\n    # Create kinematic tree\n    G = nx.DiGraph()\n\n    # Add nodes (links)\n    for link in robot.links:\n        G.add_node(link.name)\n\n    # Add edges (joints)\n    for joint in robot.joints:\n        G.add_edge(joint.parent, joint.child)\n\n    # Analyze tree structure\n    print(f"Graph nodes: {list(G.nodes())}")\n    print(f"Graph edges: {list(G.edges())}")\n\n    # Find root link (node with no incoming edges)\n    root_links = [node for node in G.nodes() if G.in_degree(node) == 0]\n    print(f"Root links: {root_links}")\n\n    # Find leaf links (nodes with no outgoing edges)\n    leaf_links = [node for node in G.nodes() if G.out_degree(node) == 0]\n    print(f"Leaf links: {leaf_links}")\n\n    # Calculate path lengths from root to leaves\n    if root_links:\n        root = root_links[0]\n        for leaf in leaf_links:\n            try:\n                path = nx.shortest_path(G, root, leaf)\n                print(f"Path from {root} to {leaf}: {\' -> \'.join(path)} (length: {len(path)-1})")\n            except nx.NetworkXNoPath:\n                print(f"No path from {root} to {leaf}")\n\n    # Check joint properties\n    joint_types = defaultdict(int)\n    for joint in robot.joints:\n        joint_types[joint.type] += 1\n\n    print(f"Joint types: {dict(joint_types)}")\n\n    # Check for missing properties\n    missing_visual = []\n    missing_collision = []\n    missing_inertial = []\n\n    for link in robot.links:\n        if not link.visual:\n            missing_visual.append(link.name)\n        if not link.collision:\n            missing_collision.append(link.name)\n        if not link.inertial:\n            missing_inertial.append(link.name)\n\n    if missing_visual:\n        print(f"Links without visual: {missing_visual}")\n    if missing_collision:\n        print(f"Links without collision: {missing_collision}")\n    if missing_inertial:\n        print(f"Links without inertial: {missing_inertial}")\n\nif __name__ == "__main__":\n    import sys\n    if len(sys.argv) != 2:\n        print("Usage: python analyze_urdf.py <urdf_file>")\n        sys.exit(1)\n\n    analyze_urdf(sys.argv[1])\n'})}),"\n",(0,o.jsx)(e.h2,{id:"advanced-visualization-creating-joint-trajectory-demonstrations",children:"Advanced Visualization: Creating Joint Trajectory Demonstrations"}),"\n",(0,o.jsx)(e.p,{children:"Create a script to demonstrate joint movements:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"#!/usr/bin/env python3\n\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nfrom trajectory_msgs.msg import JointTrajectory, JointTrajectoryPoint\nimport math\nimport time\n\nclass JointTrajectoryDemo(Node):\n    def __init__(self):\n        super().__init__('joint_trajectory_demo')\n\n        # Publisher for joint states\n        self.joint_pub = self.create_publisher(JointState, 'joint_states', 10)\n\n        # Timer for publishing joint states\n        self.timer = self.create_timer(0.05, self.publish_joint_states)  # 20 Hz\n\n        # Initialize joint names (should match your URDF)\n        self.joint_names = [\n            'left_hip_pitch_joint', 'left_hip_roll_joint', 'left_hip_yaw_joint',\n            'left_knee_joint', 'left_ankle_pitch_joint', 'left_ankle_roll_joint',\n            'right_hip_pitch_joint', 'right_hip_roll_joint', 'right_hip_yaw_joint',\n            'right_knee_joint', 'right_ankle_pitch_joint', 'right_ankle_roll_joint',\n            'left_shoulder_pitch_joint', 'left_shoulder_roll_joint', 'left_shoulder_yaw_joint',\n            'left_elbow_joint', 'left_wrist_pitch_joint', 'left_wrist_yaw_joint',\n            'right_shoulder_pitch_joint', 'right_shoulder_roll_joint', 'right_shoulder_yaw_joint',\n            'right_elbow_joint', 'right_wrist_pitch_joint', 'right_wrist_yaw_joint'\n        ]\n\n        # Initialize positions\n        self.positions = [0.0] * len(self.joint_names)\n\n        # Movement parameters\n        self.time_offset = time.time()\n\n        self.get_logger().info('Joint trajectory demo initialized')\n\n    def publish_joint_states(self):\n        msg = JointState()\n        msg.header.stamp = self.get_clock().now().to_msg()\n        msg.name = self.joint_names\n\n        # Create oscillating movements for demonstration\n        current_time = time.time()\n\n        for i, joint_name in enumerate(self.joint_names):\n            # Different movement patterns for different joints\n            if 'hip' in joint_name:\n                # Hip joints move with larger amplitude\n                self.positions[i] = 0.5 * math.sin(0.5 * (current_time - self.time_offset) + i)\n            elif 'knee' in joint_name:\n                # Knee joints follow hip movement\n                self.positions[i] = 0.3 * math.sin(0.5 * (current_time - self.time_offset) + i + 1)\n            elif 'shoulder' in joint_name:\n                # Shoulder joints move independently\n                self.positions[i] = 0.4 * math.sin(0.3 * (current_time - self.time_offset) + i * 0.5)\n            elif 'elbow' in joint_name:\n                # Elbow joints follow shoulder\n                self.positions[i] = 0.3 * math.sin(0.3 * (current_time - self.time_offset) + i * 0.5 + 1)\n            else:\n                # Other joints move with smaller amplitude\n                self.positions[i] = 0.2 * math.sin(0.7 * (current_time - self.time_offset) + i * 0.3)\n\n        msg.position = self.positions\n        msg.velocity = [0.0] * len(self.joint_names)\n        msg.effort = [0.0] * len(self.joint_names)\n\n        self.joint_pub.publish(msg)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = JointTrajectoryDemo()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,o.jsx)(e.h2,{id:"common-urdf-issues-and-solutions",children:"Common URDF Issues and Solutions"}),"\n",(0,o.jsx)(e.h3,{id:"1-floating-point-precision",children:"1. Floating Point Precision"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Good: Use reasonable precision --\x3e\n<origin xyz="0.0 0.0 0.1" rpy="0.0 0.0 0.0"/>\n\n\x3c!-- Avoid: Excessive precision --\x3e\n<origin xyz="0.00000000000000001 0.0 0.1" rpy="0.0 0.0 0.0"/>\n'})}),"\n",(0,o.jsx)(e.h3,{id:"2-mass-and-inertia-issues",children:"2. Mass and Inertia Issues"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Good: Realistic mass properties --\x3e\n<inertial>\n  <mass value="5.0"/>\n  <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n  <inertia ixx="0.05" ixy="0" ixz="0" iyy="0.05" iyz="0" izz="0.01"/>\n</inertial>\n\n\x3c!-- Avoid: Zero or negative values --\x3e\n<inertial>\n  <mass value="0"/>  \x3c!-- This will cause issues in simulation --\x3e\n  <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>\n</inertial>\n'})}),"\n",(0,o.jsx)(e.h3,{id:"3-joint-limit-issues",children:"3. Joint Limit Issues"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Good: Realistic joint limits --\x3e\n<joint name="left_elbow_joint" type="revolute">\n  <limit lower="0.0" upper="2.5" effort="80" velocity="1.2"/>\n</joint>\n\n\x3c!-- Avoid: Limits that exceed mechanical capabilities --\x3e\n<joint name="left_elbow_joint" type="revolute">\n  <limit lower="-3.14" upper="3.14" effort="80" velocity="1.2"/>  \x3c!-- Elbows don\'t rotate 360\xb0 --\x3e\n</joint>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"best-practices-for-urdf-visualization",children:"Best Practices for URDF Visualization"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Start Simple"}),": Begin with a basic model and add complexity gradually"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Use Hierarchical Structure"}),": Organize joints and links logically"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Validate Early"}),": Check your URDF frequently during development"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Test in Simulation"}),": Always test your model in simulation before hardware"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Document Assumptions"}),": Comment on coordinate frames and joint directions"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Use Standard Formats"}),": Follow ROS/URDF conventions for compatibility"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Performance Considerations"}),": Use simpler collision geometries for simulation"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsx)(e.p,{children:"Now that you can visualize and validate your URDF models, let's move on to creating practical exercises that will help you apply these concepts to real humanoid robot scenarios."})]})}function c(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>r});var t=i(6540);const o={},a=t.createContext(o);function s(n){const e=t.useContext(a);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);