"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[7437],{4692:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"module-1-robotic-nervous-system/ros2-architecture/message-types","title":"Message Types and Definitions","description":"Understanding ROS 2 Messages","source":"@site/docs/module-1-robotic-nervous-system/ros2-architecture/message-types.md","sourceDirName":"module-1-robotic-nervous-system/ros2-architecture","slug":"/module-1-robotic-nervous-system/ros2-architecture/message-types","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/ros2-architecture/message-types","draft":false,"unlisted":false,"editUrl":"https://github.com/Jiyakhan321/hackathon_textbook_ai_robotics/tree/main/docs/module-1-robotic-nervous-system/ros2-architecture/message-types.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Nodes, Topics, and Services","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/ros2-architecture/nodes-topics-services"},"next":{"title":"Lifecycle Nodes","permalink":"/hackathon_textbook_ai_robotics/docs/module-1-robotic-nervous-system/ros2-architecture/lifecycle-nodes"}}');var t=n(4848),r=n(8453);const o={sidebar_position:2},a="Message Types and Definitions",d={},l=[{value:"Understanding ROS 2 Messages",id:"understanding-ros-2-messages",level:2},{value:"Standard Message Types",id:"standard-message-types",level:2},{value:"Basic Types",id:"basic-types",level:3},{value:"Sensor Types",id:"sensor-types",level:3},{value:"Geometry Types",id:"geometry-types",level:3},{value:"Creating Custom Messages",id:"creating-custom-messages",level:2},{value:"Message Definition Syntax",id:"message-definition-syntax",level:2},{value:"Basic Types",id:"basic-types-1",level:3},{value:"Arrays",id:"arrays",level:3},{value:"Constants",id:"constants",level:3},{value:"Working with Messages in Python",id:"working-with-messages-in-python",level:2},{value:"Using Standard Messages",id:"using-standard-messages",level:3},{value:"Creating Joint State Messages for Humanoid Robots",id:"creating-joint-state-messages-for-humanoid-robots",level:3},{value:"Message Serialization and Performance",id:"message-serialization-and-performance",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"message-types-and-definitions",children:"Message Types and Definitions"})}),"\n",(0,t.jsx)(s.h2,{id:"understanding-ros-2-messages",children:"Understanding ROS 2 Messages"}),"\n",(0,t.jsx)(s.p,{children:"Messages are the data structures that are passed between nodes in ROS 2. They define the format of data that can be exchanged through topics, services, and actions. Messages are defined using a special interface definition language (IDL) and are compiled into language-specific code."}),"\n",(0,t.jsx)(s.h2,{id:"standard-message-types",children:"Standard Message Types"}),"\n",(0,t.jsxs)(s.p,{children:["ROS 2 provides a rich set of standard message types in the ",(0,t.jsx)(s.code,{children:"std_msgs"})," package:"]}),"\n",(0,t.jsx)(s.h3,{id:"basic-types",children:"Basic Types"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"std_msgs/msg/Bool"})," - Boolean value"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"std_msgs/msg/Int32"})," - 32-bit integer"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"std_msgs/msg/Float64"})," - 64-bit floating point"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"std_msgs/msg/String"})," - String of characters"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"std_msgs/msg/Header"})," - Standard metadata for messages"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"sensor-types",children:"Sensor Types"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"sensor_msgs/msg/JointState"})," - State of joints"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"sensor_msgs/msg/LaserScan"})," - Laser range finder data"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"sensor_msgs/msg/Image"})," - Image data"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"sensor_msgs/msg/CameraInfo"})," - Camera calibration information"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"sensor_msgs/msg/Imu"})," - Inertial measurement unit data"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"geometry-types",children:"Geometry Types"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"geometry_msgs/msg/Twist"})," - Linear and angular velocities"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"geometry_msgs/msg/Pose"})," - Position and orientation"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"geometry_msgs/msg/Point"})," - 3D point"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"geometry_msgs/msg/Quaternion"})," - 4D quaternion"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"creating-custom-messages",children:"Creating Custom Messages"}),"\n",(0,t.jsxs)(s.p,{children:["For humanoid robots, you'll often need custom message types. Custom messages are defined in ",(0,t.jsx)(s.code,{children:".msg"})," files:"]}),"\n",(0,t.jsx)(s.p,{children:"Example custom message for humanoid joint states:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"# HumanoidJointState.msg\nstring[] joint_names\nfloat64[] positions\nfloat64[] velocities\nfloat64[] efforts\nuint8[] joint_types\n---\n# Additional metadata\nbuiltin_interfaces/Time timestamp\nstring robot_name\n"})}),"\n",(0,t.jsx)(s.p,{children:"To create a custom message:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Create a ",(0,t.jsx)(s.code,{children:"msg"})," directory in your package"]}),"\n",(0,t.jsxs)(s.li,{children:["Define your message in a ",(0,t.jsx)(s.code,{children:".msg"})," file"]}),"\n",(0,t.jsxs)(s.li,{children:["Update ",(0,t.jsx)(s.code,{children:"CMakeLists.txt"})," to include the message"]}),"\n",(0,t.jsxs)(s.li,{children:["Build the package with ",(0,t.jsx)(s.code,{children:"colcon build"})]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"message-definition-syntax",children:"Message Definition Syntax"}),"\n",(0,t.jsx)(s.h3,{id:"basic-types-1",children:"Basic Types"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"bool"})," - Boolean (true/false)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"byte"})," - 8-bit unsigned integer"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"char"})," - 8-bit unsigned integer"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"float32"})," - 32-bit floating point"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"float64"})," - 64-bit floating point"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"int8"}),", ",(0,t.jsx)(s.code,{children:"int16"}),", ",(0,t.jsx)(s.code,{children:"int32"}),", ",(0,t.jsx)(s.code,{children:"int64"})," - Signed integers"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"uint8"}),", ",(0,t.jsx)(s.code,{children:"uint16"}),", ",(0,t.jsx)(s.code,{children:"uint32"}),", ",(0,t.jsx)(s.code,{children:"uint64"})," - Unsigned integers"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"string"})," - Variable-length string"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"wstring"})," - Wide variable-length string"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"arrays",children:"Arrays"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"type[]"})," - Unbounded array"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"type[n]"})," - Fixed-size array of n elements"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"constants",children:"Constants"}),"\n",(0,t.jsx)(s.p,{children:"You can define constants in message definitions:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"int32 RED=1\nint32 GREEN=2\nint32 BLUE=3\nint32 color\n"})}),"\n",(0,t.jsx)(s.h2,{id:"working-with-messages-in-python",children:"Working with Messages in Python"}),"\n",(0,t.jsx)(s.h3,{id:"using-standard-messages",children:"Using Standard Messages"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\nfrom sensor_msgs.msg import JointState\nfrom geometry_msgs.msg import Twist\n\nclass MessageExample(Node):\n    def __init__(self):\n        super().__init__('message_example')\n        self.publisher = self.create_publisher(String, 'chatter', 10)\n\n    def publish_message(self):\n        msg = String()\n        msg.data = 'Hello from ROS 2'\n        self.publisher.publish(msg)\n"})}),"\n",(0,t.jsx)(s.h3,{id:"creating-joint-state-messages-for-humanoid-robots",children:"Creating Joint State Messages for Humanoid Robots"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nfrom builtin_interfaces.msg import Time\n\nclass HumanoidController(Node):\n    def __init__(self):\n        super().__init__('humanoid_controller')\n        self.joint_publisher = self.create_publisher(JointState, 'joint_states', 10)\n\n    def publish_joint_state(self):\n        msg = JointState()\n        msg.name = [\n            'left_hip_joint', 'left_knee_joint', 'left_ankle_joint',\n            'right_hip_joint', 'right_knee_joint', 'right_ankle_joint',\n            'left_shoulder_joint', 'left_elbow_joint', 'left_wrist_joint'\n        ]\n        msg.position = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\n        msg.velocity = [0.0] * len(msg.name)\n        msg.effort = [0.0] * len(msg.name)\n\n        # Set timestamp\n        time = self.get_clock().now().to_msg()\n        msg.header.stamp = time\n        msg.header.frame_id = 'base_link'\n\n        self.joint_publisher.publish(msg)\n"})}),"\n",(0,t.jsx)(s.h2,{id:"message-serialization-and-performance",children:"Message Serialization and Performance"}),"\n",(0,t.jsx)(s.p,{children:"Messages are serialized when transmitted between nodes. For humanoid robots with many joints and sensors, consider:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Efficient Data Types"}),": Use appropriate data types (e.g., float32 instead of float64 when precision allows)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Message Frequency"}),": Optimize publishing rates for your application"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Data Compression"}),": For large data like images, consider compression"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Message Size"}),": Be mindful of message size to avoid network congestion"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Use Standard Types"}),": Leverage existing standard message types when possible"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Descriptive Names"}),": Use clear, descriptive names for custom message fields"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Documentation"}),": Document the meaning and units of custom message fields"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Backward Compatibility"}),": Design messages to be forward and backward compatible"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Validation"}),": Validate message content in your nodes to ensure data integrity"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(s.p,{children:"Now that you understand message types, let's explore lifecycle nodes which provide more sophisticated node management capabilities."})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var i=n(6540);const t={},r=i.createContext(t);function o(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);